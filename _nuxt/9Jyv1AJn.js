import{p as R}from"./otLCWnYR.js";import{B as $}from"./CFdCBK2j.js";import{T as W}from"./Dwq8b2QO.js";import{B as j}from"./CyEs641m.js";import{_ as q}from"./CgQ5lQtw.js";import{S as Q}from"./BXvq85OX.js";import{C as X}from"./CR-Xt0lD.js";import{I as Z}from"./KdBxPXdE.js";import{F as tt}from"./CIo5sv1j.js";import{g as P,c as x,o as f,a,t as et,_ as z,r as n,n as E,b as s,w as h,d as F,k as y,z as at,s as lt,a6 as nt,e as ot,a1 as st}from"./CEJX9E6Q.js";/* empty css        *//* empty css        *//* empty css        */import"./CJS4WFyZ.js";import"./BfJRWyju.js";import"./qGuR-Jn_.js";import"./Dk0J2JMS.js";import"./BOHLvpOl.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        */const it={class:"point-history-empty"},dt=P({__name:"PointEmpty",props:{text:{type:String,default:"포인트 내역이 없습니다."}},setup(u){return(b,i)=>(f(),x("div",it,[a("p",null,et(u.text),1)]))}}),rt=z(dt,[["__scopeId","data-v-f5f14448"]]),ut={class:"accordion-item"},ct={__name:"MyMedicalDataGuide",props:{initialOpen:{type:Boolean,default:!1}},setup(u){const i=n(u.initialOpen),v=()=>{i.value=!i.value};return(o,d)=>(f(),x("div",ut,[a("div",{class:"accordion-header",onClick:v},[d[0]||(d[0]=a("div",null,[a("h3",null,"레몬지수 산출을 위해 내려받을 의료마이데이터 안내")],-1)),a("span",{class:E(["toggle-icon",{open:i.value}])},null,2)]),a("div",{class:E(["accordion-content",{"is-open":i.value}])},[s(tt,{class:"gap-6"},{default:h(()=>d[1]||(d[1]=[a("dl",{class:"flex flex-col"},[a("dt",null,[F("환자번호"),a("span",null," [필수]")]),a("dd",null,"MY병원에서 각 환자를 고유하게 식별하기 위한 환자번호 필요")],-1),a("dl",{class:"flex flex-col"},[a("dt",null,[F("진단코드"),a("span",null," [필수]")]),a("dd",null,"진료받았던 질병의 고유코드")],-1),a("hr",null,null,-1),a("dl",{class:"flex"},[a("dt",null,"데이터 형식"),a("dd",null,"JSON")],-1),a("dl",{class:"flex"},[a("dt",null,"데이터 저장소"),a("dd",null,"건강의 신 클라우드 : 개인 데이터 저장소")],-1)])),_:1,__:[1]})],2)]))}},mt=z(ct,[["__scopeId","data-v-8ba31e92"]]),pt={class:"mt-16"},ft={key:0},vt={key:1},Nt=P({__name:"myMedicalDataDownload",props:{initialStartDate:{default:null},initialEndDate:{default:null},initialPeriodType:{default:"segment4"},title:{default:"기간 선택"},addTitle:{},addTitleClass:{},isVisible:{type:Boolean,default:!1},isShowCloseButton:{type:Boolean,default:!0},isShowCancelButton:{type:Boolean,default:!0},isShowConfirmButton:{type:Boolean,default:!0},confirmButtonText:{default:"확인"},cancelButtonText:{default:"취소"},disabledCancelButton:{type:Boolean,default:!1},disabledConfirmButton:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0}},emits:["confirm","cancel","close","update:startDate","update:endDate"],setup(u,{emit:b}){const i=n(!1),v=n(1),o=u,d=b,r=n(o.initialPeriodType||"segment4"),c=n(""),m=n(""),B=n(""),I=n([{title:"3개월",key:"segment1"},{title:"6개월",key:"segment2"},{title:"12개월",key:"segment3"},{title:"직접설정",key:"segment4"}]),k=y(()=>r.value==="segment4"),g=t=>{const e=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),D=String(t.getDate()).padStart(2,"0");return`${e}.${l}.${D}`},C=t=>{if(!t)return null;const e=t.replace(/\./g,"-"),l=new Date(e);return isNaN(l.getTime())?null:l},_=()=>{const t=new Date;let e,l=new Date(t);switch(r.value){case"segment1":e=new Date(t.getFullYear(),t.getMonth()-3,t.getDate());break;case"segment2":e=new Date(t.getFullYear(),t.getMonth()-6,t.getDate());break;case"segment3":e=new Date(t.getFullYear(),t.getMonth()-12,t.getDate());break;default:o.initialStartDate?e=new Date(o.initialStartDate):e=new Date(t.getFullYear(),t.getMonth(),1),o.initialEndDate&&(l=new Date(o.initialEndDate));break}c.value=g(e),m.value=g(l)};y(()=>{if(!c.value||!m.value)return"";const t=C(c.value),e=C(m.value);if(!t||!e)return"";const l=g(t),D=g(e);return`${l} ~ ${D}`});const Y=()=>{switch(r.value){case"segment1":return"최근 3개월";case"segment2":return"최근 6개월";case"segment3":return"최근 12개월";default:return"사용자 지정"}},N=t=>{r.value=t,_(),console.log(`📅 기간 탭 변경: ${Y()}`)},V=()=>{const t=document.body;B.value=t.style.overflow,t.style.overflow="hidden"},T=()=>{const t=document.body;t.style.overflow=B.value};at(()=>o.isVisible,async t=>{if(t){r.value=o.initialPeriodType||"segment4",_(),V(),await st();const e=document.getElementById("cDateRangePicker");e&&e.focus()}else T()});const M=t=>{t.key==="Escape"&&o.isVisible&&H()};lt(()=>{document.addEventListener("keydown",M)}),nt(()=>{document.removeEventListener("keydown",M),T()});const H=()=>{o.autoClose&&d("close")};y(()=>o.disabledCancelButton),y(()=>o.disabledConfirmButton);const O=n({cols:[{width:"14rem"},{width:"7.2rem"},{width:"auto"}],headers:[[{text:"병원"},{text:"진단코드"},{text:"질병 이름"}]],body:[[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}],[{text:"중앙대학교병원"},{text:"A40"},{text:"패혈증"}]]}),w=n(""),p=n(!1),S=n("연동정보 확인"),U=n("닫기"),G=n(!0),L=async()=>{w.value=`
  <img src="/assets/images/walkingking/ico-warning.svg" alt="알림 이미지" style="margin: 0 auto"/>
  <div class="fz-18 bold mt-6" style="width: 28rem;">
    조회된 의료마이데이터가 없습니다.<br/>
    기간을 다시 선택해 주시거나<br/>
    MY병원 연동 정보를 확인해 주세요.
  </div>`,p.value=!0},J=async()=>{w.value=`
  <img src="/assets/images/walkingking/ico-warning.svg" alt="알림 이미지" style="margin: 0 auto"/>
  <div class="fz-18 bold mt-6" style="width: 28rem;">
    내려받은 의료마이데이터를<br/>건강의신에 전달합니다.
  </div>
  <div class="fz-14 lineH-140 mt-8 pr-4 pl-4">
    <dl class="flex space-between">
      <dt style="color:#555">제공 대상</dt>
      <dd class="medium">준비중</dd>
    </dl>
    <dl class="flex space-between mt-6">
      <dt style="color:#555">제공 기간</dt>
      <dd class="medium">준비중</dd>
    </dl>
    <dl class="flex space-between mt-6">
      <dt style="color:#555">제공 목적</dt>
      <dd class="medium">레몬지수 서비스 이용</dd>
    </dl>
    <dl class="flex space-between mt-6">
      <dt style="color:#555">제공 데이터</dt>
      <dd class="medium">환자번호, 진단코드</dd>
    </dl>
  </div>
  `,S.value="전달하기",p.value=!0},A=()=>{p.value=!1},K=()=>{p.value=!1,i.value=!0};return(t,e)=>(f(),ot(q,{"page-title":"레몬건강지수 AI 정밀분석","show-back-button":!0},{default:h(()=>[e[3]||(e[3]=a("h2",{class:"fz-18 bold lineH-140"},"의료마이데이터 내려받기",-1)),e[4]||(e[4]=a("p",{class:"fz-16 medium lineH-140 mt-4"},"내려받을 기간을 선택해 주세요.",-1)),a("div",pt,[s(Q,{tabs:I.value,"active-key":r.value,onTabChange:N},null,8,["tabs","active-key"])]),s(Z,{"from-date":c.value,"onUpdate:fromDate":e[0]||(e[0]=l=>c.value=l),"to-date":m.value,"onUpdate:toDate":e[1]||(e[1]=l=>m.value=l),class:"mt-8 mb-8",placeholder:"시작일",placeholder2:"종료일",readonly:!k.value,disabled:!k.value},null,8,["from-date","to-date","readonly","disabled"]),e[5]||(e[5]=a("p",{class:"fz-11 lineH-140 text-center",style:{color:"#555"}},"시작일 기준으로 최대 1년까지 조회가 가능합니다.",-1)),s($,{"btn-type":"primary","element-type":"button","aria-label":"내려받기",class:"medium mt-8",onClick:L}),e[6]||(e[6]=a("hr",{class:"hr-section mt-20 mb-20 ml-n20 mr-n20"},null,-1)),s(mt),i.value?(f(),x("div",ft,[s(W,{"table-data":O.value,class:"mt-18 text-left"},null,8,["table-data"]),s(R,{"current-page":v.value,"onUpdate:currentPage":e[2]||(e[2]=l=>v.value=l),"total-items":5},null,8,["current-page"]),s(j,{class:"is-fixed"},{default:h(()=>[s($,{"btn-type":"primary","element-type":"button","aria-label":"전달하기",class:"lg btn-sticky medium w-full",onClick:J})]),_:1})])):(f(),x("div",vt,[s(rt,{text:"조회된 내역이 없습니다."})])),s(X,{"is-visible":p.value,html:w.value,"confirm-button-text":S.value,"cancel-button-text":U.value,"is-show-cancel-button":G.value,onCancel:A,onClose:A,onConfirm:K},null,8,["is-visible","html","confirm-button-text","cancel-button-text","is-show-cancel-button"])]),_:1,__:[3,4,5,6]}))}});export{Nt as default};
