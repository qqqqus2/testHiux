import{_ as z}from"./C8HGqZrx.js";import{_ as C,c as _,o as f,a as t,d as A,ad as E,g as b,r as k,A as S,x as P,a2 as B,a7 as I,F as Y,h as D,b as w,e as R,w as X}from"./CbJ3mJef.js";import{B as T}from"./CDhGyslN.js";/* empty css        */const M={},N={class:"attendance-title"};function W($,m){return f(),_("div",N,m[0]||(m[0]=[t("h2",{class:"tit-wrap"},[t("span",{class:"sub-tit"},"연속 출석 시 추가 포인트 지급"),t("strong",{class:"title"},[A(" 매일 출석하고 "),t("br"),A("포인트 받아가세요! ")])],-1)]))}const q=C(M,[["render",W],["__scopeId","data-v-8e9f692c"]]),Q={},V={class:"attendance-status-wrap"};function F($,m){return f(),_("div",V,m[0]||(m[0]=[E('<div class="attendance-status" data-v-63f49a56><div class="item" data-v-63f49a56><span class="tit" data-v-63f49a56>출석 현황</span><strong class="result" data-v-63f49a56>연속 3일</strong></div><div class="item" data-v-63f49a56><span class="tit" data-v-63f49a56>받은 포인트</span><strong class="result" data-v-63f49a56>150P</strong></div></div>',1)]))}const U=C(Q,[["render",F],["__scopeId","data-v-63f49a56"]]),j={class:"connection-svg",viewBox:"0 0 100 100",preserveAspectRatio:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg"},G=["id"],H=b({__name:"ConnectionLines",props:{completedDays:{},containerSelector:{}},emits:["pathsCalculated"],setup($,{expose:m,emit:h}){const y=$,u=h,g=k([{from:1,to:2,id:"path-1-2",direction:"horizontal"},{from:2,to:3,id:"path-2-3",direction:"horizontal"},{from:3,to:4,id:"path-3-4",direction:"right-top"},{from:4,to:5,id:"path-4-5",direction:"right-bottom"},{from:5,to:6,id:"path-5-6",direction:"horizontal"},{from:6,to:7,id:"path-6-7",direction:"left-top"},{from:7,to:8,id:"path-7-8",direction:"left-bottom"},{from:8,to:9,id:"path-8-9",direction:"horizontal"},{from:9,to:10,id:"path-9-10",direction:"right-top"},{from:10,to:11,id:"path-10-11",direction:"right-bottom"},{from:11,to:12,id:"path-11-12",direction:"horizontal"},{from:12,to:13,id:"path-12-13",direction:"left-top"},{from:13,to:14,id:"path-13-14",direction:"left-bottom"},{from:14,to:15,id:"path-14-15",direction:"horizontal"},{from:15,to:16,id:"path-15-16",direction:"right-top"},{from:16,to:17,id:"path-16-17",direction:"right-bottom"},{from:17,to:18,id:"path-17-18",direction:"horizontal"},{from:18,to:19,id:"path-18-19",direction:"left-top"},{from:19,to:20,id:"path-19-20",direction:"left-bottom"}]),r=i=>{const o=document.querySelector(`[data-item="${i}"]`);if(!o)return null;const d=document.querySelector(y.containerSelector||".step-wrap");if(!d)return null;const l=o.getBoundingClientRect(),s=d.getBoundingClientRect(),n=(l.left-s.left+l.width/2)/s.width*100,c=(l.top-s.top+l.height/2)/s.height*100;return{x:n,y:c}},x=(i,o,d="horizontal")=>{if(!i||!o)return"";if(d==="right-bottom"){const l=i.y+7,s=10,n=i.x,c=l,v=c-s,L=n-s;return`M${i.x} ${i.y} L${n} ${v} Q${n} ${c} ${L} ${c} L${o.x} ${o.y}`}else if(d==="right-top"){const s=o.x,n=i.y,c=s-10,v=n+10;return`M${i.x} ${i.y} L${c} ${n} Q${s} ${n} ${s} ${v} L${o.x} ${o.y}`}else if(d==="left-top"){const s=o.x,n=i.y,c=s+10,v=n+10;return`M${i.x} ${i.y} L${c} ${n} Q${s} ${n} ${s} ${v} L${o.x} ${o.y}`}else if(d==="left-bottom"){const s=i.x,n=o.y,c=n-10,v=s+10;return`M${i.x} ${i.y} L${s} ${c} Q${s} ${n} ${v} ${n} L${o.x} ${o.y}`}else return`M${i.x} ${i.y} L${o.x} ${o.y}`},p=()=>{const i={};for(let o=1;o<=20;o++)i[o]=r(o);g.value.forEach(o=>{const d=i[o.from],l=i[o.to],s=document.getElementById(o.id);if(d&&l&&s){const n=x(d,l,o.direction);s.setAttribute("d",n)}}),u("pathsCalculated")},e=()=>{const i=document.querySelectorAll(".connection-path"),o=Array.from(y.completedDays).sort((s,n)=>s-n);if(o.length===0){i.forEach(s=>{const n=s;n.style.stroke="#AAE292",n.style.strokeWidth="3",n.classList.remove("completed-path")});return}let d=0;for(let s=1;s<=20&&o.includes(s);s++)d=s;const l=d-1;i.forEach((s,n)=>{const c=s;n+1<=l?(c.style.stroke="#7ABD5E",c.style.strokeWidth="3",c.classList.add("completed-path")):(c.style.stroke="#AAE292",c.style.strokeWidth="3",c.classList.remove("completed-path"))})};S(()=>y.completedDays,()=>{e()},{deep:!0});const a=()=>{setTimeout(p,0)};return P(()=>{B(()=>{setTimeout(()=>{p(),e()},100)}),typeof window<"u"&&window.addEventListener("resize",a)}),I(()=>{typeof window<"u"&&window.removeEventListener("resize",a)}),m({calculateAndDrawPaths:p,updatePathProgress:e}),(i,o)=>(f(),_("svg",j,[(f(!0),_(Y,null,D(g.value,d=>(f(),_("path",{key:d.id,id:d.id,stroke:"#AAE292","stroke-width":"3",fill:"none","stroke-linecap":"round",class:"connection-path"},null,8,G))),128))]))}}),J=C(H,[["__scopeId","data-v-a5753b8f"]]),K={class:"step-wrap"},O={class:"item-wrap","data-connect":"horizontal","data-item":"1"},Z={class:"item-wrap","data-connect":"horizontal","data-item":"2"},tt={class:"item-wrap","data-connect":"vertical-down","data-item":"3"},et={class:"ml-auto corner"},st={class:"item-wrap ml-auto","data-connect":"vertical-down","data-item":"4"},ot={class:"reverse"},nt={class:"item-wrap","data-connect":"horizontal-reverse","data-item":"5"},at={class:"item-wrap","data-connect":"vertical-down","data-item":"6"},it={class:"corner"},rt={class:"item-wrap","data-connect":"vertical-down","data-item":"7"},ct={class:"ml-auto"},dt={class:"item-wrap","data-connect":"horizontal","data-item":"8"},lt={class:"item-wrap","data-connect":"vertical-down","data-item":"9"},pt={class:"ml-auto corner"},mt={class:"item-wrap ml-auto","data-connect":"vertical-down","data-item":"10"},ut={class:"reverse"},vt={class:"item-wrap","data-connect":"horizontal-reverse","data-item":"11"},ft={class:"item-wrap","data-connect":"vertical-down","data-item":"12"},ht={class:"corner"},_t={class:"item-wrap","data-connect":"vertical-down","data-item":"13"},$t={class:"ml-auto"},wt={class:"item-wrap","data-connect":"horizontal","data-item":"14"},yt={class:"item-wrap","data-connect":"vertical-down","data-item":"15"},kt={class:"ml-auto corner"},Ct={class:"item-wrap ml-auto","data-connect":"vertical-down","data-item":"16"},gt={class:"reverse"},xt={class:"item-wrap","data-connect":"horizontal-reverse","data-item":"17"},bt={class:"item-wrap","data-connect":"vertical-down","data-item":"18"},At={class:"corner"},Lt={class:"item-wrap","data-connect":"horizontal","data-item":"19"},zt={class:""},Et={class:"item-wrap","data-item":"20"},St=b({__name:"AttendanceSteps",setup($){const m=k(),h=k(),y=k(),u=k(new Set),g=()=>{},r=p=>{if(u.value.has(p))Array.from(u.value).filter(a=>a>=p).forEach(a=>u.value.delete(a));else for(let e=1;e<=p;e++)u.value.has(e)||u.value.add(e);x(p);for(let e=1;e<=20;e++)x(e)},x=p=>{const e=document.querySelector(`[data-item="${p}"] .item`);e&&(u.value.has(p)?e.classList.add("completed"):e.classList.remove("completed"))};return(p,e)=>(f(),_("div",{ref_key:"attendanceContainer",ref:m,class:"attendance-wrap"},[t("div",null,[t("div",K,[w(J,{ref_key:"connectionLines",ref:y,"completed-days":u.value,"container-selector":".step-wrap",onPathsCalculated:g},null,8,["completed-days"]),t("div",{ref_key:"lineWrap",ref:h,class:"line-wrap"},[t("div",null,[t("span",O,[t("span",{class:"item",onClick:e[0]||(e[0]=a=>r(1))},"1")]),t("span",Z,[t("span",{class:"item",onClick:e[1]||(e[1]=a=>r(2))},"2")]),t("span",tt,[t("span",{class:"item",onClick:e[2]||(e[2]=a=>r(3))},"3")])]),t("div",et,[t("span",st,[t("span",{class:"item",onClick:e[3]||(e[3]=a=>r(4))},"4"),e[20]||(e[20]=t("span",{class:"step-point"},"50P",-1))])]),t("div",ot,[t("span",nt,[t("span",{class:"item",onClick:e[4]||(e[4]=a=>r(5))},"5")]),t("span",at,[t("span",{class:"item",onClick:e[5]||(e[5]=a=>r(6))},"6")])]),t("div",it,[t("span",rt,[t("span",{class:"item",onClick:e[6]||(e[6]=a=>r(7))},"7"),e[21]||(e[21]=t("i",{class:"img-char char-1","aria-hidden":"true"},null,-1))])]),t("div",ct,[t("span",dt,[t("span",{class:"item",onClick:e[7]||(e[7]=a=>r(8))},"8")]),t("span",lt,[t("span",{class:"item",onClick:e[8]||(e[8]=a=>r(9))},"9"),e[22]||(e[22]=t("span",{class:"step-point"},"50P",-1))])]),t("div",pt,[t("span",mt,[t("span",{class:"item",onClick:e[9]||(e[9]=a=>r(10))},"10")])]),t("div",ut,[t("span",vt,[t("span",{class:"item",onClick:e[10]||(e[10]=a=>r(11))},"11")]),t("span",ft,[t("span",{class:"item",onClick:e[11]||(e[11]=a=>r(12))},"12")])]),t("div",ht,[t("span",_t,[t("span",{class:"item",onClick:e[12]||(e[12]=a=>r(13))},"13")])]),t("div",$t,[t("span",wt,[t("span",{class:"item",onClick:e[13]||(e[13]=a=>r(14))},"14")]),t("span",yt,[t("span",{class:"item",onClick:e[14]||(e[14]=a=>r(15))},"15"),e[23]||(e[23]=t("i",{class:"img-char char-2","aria-hidden":"true"},null,-1))])]),t("div",kt,[t("span",Ct,[t("span",{class:"item",onClick:e[15]||(e[15]=a=>r(16))},"16")])]),t("div",gt,[t("span",xt,[t("span",{class:"item",onClick:e[16]||(e[16]=a=>r(17))},"17")]),t("span",bt,[t("span",{class:"item",onClick:e[17]||(e[17]=a=>r(18))},"18")])]),t("div",At,[t("span",Lt,[t("span",{class:"item",onClick:e[18]||(e[18]=a=>r(19))},"19")])]),t("div",zt,[t("span",Et,[t("span",{class:"item",onClick:e[19]||(e[19]=a=>r(20))},"20"),e[24]||(e[24]=t("i",{class:"img-char char-3","aria-hidden":"true"},null,-1))])])],512)])])],512))}}),Pt=C(St,[["__scopeId","data-v-f4ab678a"]]),Bt={class:"attendance-info"},It=b({__name:"AttendanceCheck",setup($){return(m,h)=>(f(),_("div",Bt,[h[0]||(h[0]=t("div",{class:"info-txt-wrap"},[t("div",{class:"title"},"출석체크는?"),t("div",{class:"info-list"},[t("p",null," 매일 연속 출석체크시에만 다음날의 출석체크를 할 수 있으며, 미출석시 연속출석체크 이벤트는 초기화되며, 1일차부터 출석체크를 재시작됩니다. "),t("p",null,"출석체크 시 해당일자의 포인트는 즉시 지급니다.")])],-1)),w(T,{"btn-type":"primary","element-type":"button","aria-label":"오늘 출석체크하고 포인트받기",class:"lg btn-sticky"})]))}}),Yt=C(It,[["__scopeId","data-v-dc002d36"]]),Mt=b({__name:"attendance",setup($){return(m,h)=>(f(),R(z,{"show-back-button":!0,"page-title":"출석체크","logo-type":"text"},{default:X(()=>[w(q),w(U),w(Pt),w(Yt)]),_:1}))}});export{Mt as default};
