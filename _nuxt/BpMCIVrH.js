import{_ as j}from"./D_ru3p0q.js";import{a9 as $,g as R,r as g,k as D,e as K,o as c,m as _,w as q,a as s,c as d,a2 as P,p as S,F as N,h as L,n as V,t as I,d as z,_ as T,z as F,b as H,u as M}from"./D3dCSwSP.js";/* empty css        */const x=(e,b)=>{if(!e||!b)return!1;const n=e.toString()+b.toString(),a=parseInt(n[6],10),l=parseInt(n.slice(2,4),10),h=parseInt(n.slice(4,6),10);let t=null;if([1,2,5,6].includes(a)?t=1900:[3,4,7,8].includes(a)&&(t=2e3),t===null)return!1;const p=t+parseInt(n.slice(0,2),10);if(p>$().year()||p>=2e3&&[1,2,5,6].includes(a)||p<2e3&&[3,4,7,8].includes(a))return!1;if($(`${p}-${l}-${h}`).isAfter($("2020-10-31")))return console.warn("2020년 10월 이후 주민번호는 검증 불가"),!1;const w=[2,3,4,5,6,7,8,9,2,3,4,5];let y=0;for(let k=0;k<12;k++)y+=parseInt(n[k],10)*w[k];return(11-y%11)%10===parseInt(n[12],10)},A={class:"wrap-keypad"},E={key:0,class:"wrap-key-tit"},Z={key:1,class:"wrap-key-tit"},G={class:"wrap-hide-num"},J={class:"circle-inputs"},O={key:0,class:"txt-warn"},Q={class:"keypad"},U={class:"keypad-grid"},W=["disabled","onClick"],X={key:0,width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y={key:1,width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ee=R({__name:"SecurityKeypad",props:{isVisible:{type:Boolean,default:!1},frontNumber:{default:""},checkValidation:{type:Boolean,default:!0}},emits:["close","cancel","confirm"],setup(e,{emit:b}){const n=e,a=b,l=g([]),h=D(()=>l.value.length),t=g(!1),p=g({title:"보안키패드",isShowCancelButton:!1,confirmButtonText:"입력완료",disabledConfirmButton:D(()=>h.value!==7)}),w=[0,1,2,3,4,5,6,7,8,9];function y(){const u=[...[...w].sort(()=>Math.random()-.5),"lock"].sort(()=>Math.random()-.5);return[[u[0],u[1],u[2]],[u[3],u[4],u[5]],[u[6],u[7],u[8]],[u[9],u[10],"del"]].flat()}const B=g(y());function k(i){typeof i=="number"?l.value.length<7&&(l.value.push(i),t.value=!1):i==="del"&&(l.value.pop(),t.value=!1)}const r=()=>{a("close")},f=()=>{a("cancel")},o=()=>{if(l.value.join("")==="1111111"){a("confirm",{isInvalid:!1,frontNumber:n.frontNumber,backNumber:l.value.join("")}),l.value=[];return}if(n.checkValidation&&!x(n.frontNumber,l.value.join(""))){t.value=!0,l.value=[];return}a("confirm",{isInvalid:!1,frontNumber:n.frontNumber,backNumber:l.value.join("")}),t.value=!1,l.value=[]};return(i,C)=>(c(),K(j,_({"is-visible":i.isVisible},p.value,{onCancel:f,onConfirm:o,onClose:r}),{content:q(()=>{var u;return[s("div",A,[(u=i.$slots)!=null&&u.subTitle?(c(),d("div",Z,[P(i.$slots,"subTitle",{},void 0,!0)])):(c(),d("div",E,"주민등록번호 뒷자리를 입력해 주세요")),s("div",G,[s("div",J,[(c(),d(N,null,L(7,(v,m)=>s("span",{key:m,class:V(["circle",{filled:l.value[m]!==void 0&&m!==l.value.length-1,showNum:m===l.value.length-1&&l.value[m]!==void 0,active:h.value===m}])},I(l.value[m]!==void 0?l.value[m]:""),3)),64))]),t.value?(c(),d("div",O,"주민등록번호를 다시 확인해주세요.")):S("",!0)]),s("div",Q,[s("div",U,[(c(!0),d(N,null,L(B.value,(v,m)=>(c(),d("button",{key:m,class:V(["keypad-btn",{"is-lock":v==="lock","is-del":v==="del"}]),disabled:v==="lock"||v==="del"&&l.value.length===0,onClick:re=>k(v)},[v==="lock"?(c(),d("svg",X,C[0]||(C[0]=[s("path",{d:"M7.10005 9.30039V8.3861C7.10005 5.34719 9.50862 2.90039 12.5 2.90039C15.4915 2.90039 17.9001 5.34719 17.9001 8.3861V9.30039M7.10005 9.30039C6.11005 9.30039 5.30005 10.1232 5.30005 11.129V20.2718C5.30005 21.2775 6.11005 22.1004 7.10005 22.1004H17.9001C18.8901 22.1004 19.7001 21.2775 19.7001 20.2718V11.129C19.7001 10.1232 18.8901 9.30039 17.9001 9.30039M7.10005 9.30039H17.9001M12.5 16.7004V14.3004",stroke:"#D5D5D5","stroke-width":"1.5","stroke-linecap":"round"},null,-1)]))):v==="del"?(c(),d("svg",Y,C[1]||(C[1]=[s("path",{d:"M11.22 10.34L13.78 12.9M13.78 12.9L16.34 15.46M13.78 12.9L16.34 10.34M13.78 12.9L11.22 15.46M7.72235 19.3L20.82 19.3C21.5269 19.3 22.1 18.7269 22.1 18.02V7.78C22.1 7.07308 21.5269 6.5 20.82 6.5L7.72235 6.5L3.35346 12.2982C3.08501 12.6545 3.08501 13.1455 3.35346 13.5018L7.72235 19.3Z",stroke:"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(c(),d(N,{key:2},[z(I(v),1)],64))],10,W))),128))])])])]}),_:3},16,["is-visible"]))}}),le=T(ee,[["__scopeId","data-v-158df9de"]]),ae={class:"c-input"},te={class:"c-inpType"},se=["for"],ne={class:"c-inp-el"},oe=["id","name","placeholder","value","readonly","disabled"],ie=["id","name","placeholder","value","readonly","disabled"],ue={key:1,class:"feedback error"},ce={class:"text"},de=R({__name:"InputRRN",props:{label:{type:String,default:"주민등록번호"},required:{type:Boolean,default:!1},name:{type:String,default:"residentId"},placeholder:{type:String,default:"생년월일 6자리"},placeholder2:{type:String,default:"뒷자리 입력"},modelValue:{type:String,default:""},backValue:{type:String,default:""},readonly:{type:Boolean,default:!1},readonlyBack:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},errorMessage:{type:String,default:"주민등록번호를 입력해주세요."}},emits:["update:modelValue","update:backValue","backInputClick"],setup(e,{emit:b}){const n=e,a=b,l=n.name,h=g(n.modelValue||""),t=g(!1);F(()=>n.modelValue,r=>{h.value=r||""});function p(r){const f=r.target,o=f.value.replace(/\D/g,"");o.length<=6?(h.value=o,a("update:modelValue",o)):(f.value=o.slice(0,6),h.value=o.slice(0,6),a("update:modelValue",o.slice(0,6)))}function w(r){const f=r.target,o=f.value.replace(/\D/g,"");o.length<=7?a("update:backValue",o):(f.value=o.slice(0,7),a("update:backValue",o.slice(0,7)))}function y(){t.value=!0,a("backInputClick")}function B(){t.value=!t.value}function k(r){a("update:backValue",r.backNumber),t.value=!1}return(r,f)=>(c(),d("div",ae,[s("div",te,[e.label?(c(),d("label",{key:0,for:M(l),class:V(["c-label",{required:e.required===!0}])},I(e.label),11,se)):S("",!0),s("div",ne,[s("input",{id:M(l),type:"tel",name:e.name,placeholder:e.placeholder,value:e.modelValue,readonly:e.readonly,disabled:e.disabled,class:V(["c-inp",r.$attrs.class,{"is-invalid":e.isInvalid}]),maxlength:"6",onInput:p},null,42,oe),f[0]||(f[0]=s("span",{class:"at-hyphen"},"-",-1)),s("input",{id:`${M(l)}-back`,type:"hidden",name:`${e.name}-back`,placeholder:e.placeholder2,value:e.backValue,readonly:e.readonlyBack,disabled:e.disabled,class:V(["c-inp",r.$attrs.class,{"is-invalid":e.isInvalid}]),maxlength:"7",onInput:w},null,42,ie),s("div",{class:"circles-display",onClick:y},[(c(),d(N,null,L(7,(o,i)=>s("span",{key:i,class:V({filled:i>0&&i<=e.backValue.length,showNum:i===0&&e.backValue.length>0})},I(i===0&&e.backValue.length>0?e.backValue[0]:""),3)),64))])]),e.isInvalid?(c(),d("p",ue,[s("span",ce,I(e.errorMessage),1)])):S("",!0)]),H(le,{"is-visible":t.value,"front-number":e.modelValue,onClose:B,onConfirm:k},null,8,["is-visible","front-number"])]))}}),he=T(de,[["__scopeId","data-v-ce6d697a"]]);export{he as I};
