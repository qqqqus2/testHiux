import{g as v,r as u,s as F,a1 as _,k as c,c as n,o as l,p,a as i,n as w,t as y,_ as M}from"./D3dCSwSP.js";const A={class:"circle-vital-chart"},B={xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 260 260"},D=["stroke","stroke-dasharray","stroke-dashoffset"],E={key:0,class:"center-score-info"},L={class:"score"},P=v({__name:"CircleLineVitalChart",props:{percentage:{default:0},progressColor:{default:"#4C7FF7"},showEmoji:{type:Boolean,default:!0},noData:{type:Boolean,default:!1}},emits:["tooltip-click"],setup(d,{emit:f}){const t=d,h=f,o=u(0),r=u(null);F(()=>{_(()=>{if(r.value&&typeof r.value.getTotalLength=="function")o.value=r.value.getTotalLength();else{const a=Math.atan2(60,-85);let s=Math.atan2(60,85)-a;s<0&&(s+=2*Math.PI),s=2*Math.PI-s,o.value=100*s}})});const g=c(()=>{if(t.noData)return"sleep";const e=t.percentage;return e>=91?"excellent":e>=81?"good":e>=71?"normal":e>=61?"dislike":"bad"}),k=c(()=>{if(t.noData)return"#E0E0E0";const e=t.percentage;return t.progressColor&&t.progressColor!=="#4C7FF7"?t.progressColor:e>=91||e>=81?"#4C7FF7":e>=71?"#F4C58B":e>=61?"#FF8A65":"#FF5252"}),C=c(()=>{const e=Math.max(0,Math.min(100,t.percentage));return o.value-o.value*e/100}),m=()=>{console.log("üìà CircleLineVitalChart - tooltip ÌÅ¥Î¶≠"),h("tooltip-click")};return(e,a)=>(l(),n("div",A,[(l(),n("svg",B,[a[0]||(a[0]=i("path",{d:"M 45 190 A 100 100 0 1 1 215 190",fill:"none",stroke:"#F4F4F4","stroke-width":"17","stroke-linecap":"round"},null,-1)),e.percentage>0&&!e.noData?(l(),n("path",{key:0,d:"M 45 190 A 100 100 0 1 1 215 190",fill:"none",stroke:k.value,"stroke-width":"17","stroke-linecap":"round","stroke-dasharray":o.value,"stroke-dashoffset":C.value,class:"progress-arch",ref_key:"progressPathRef",ref:r},null,8,D)):p("",!0)])),e.showEmoji?(l(),n("div",E,[i("div",{class:w(["emoji",g.value])},null,2),i("strong",L,y(e.noData?"-":e.percentage)+"Ï†ê",1),i("button",{type:"button",class:"vital-tooltip",onClick:m},"ÌôúÎ†• Ï†êÏàò")])):p("",!0)]))}}),j=M(P,[["__scopeId","data-v-d66bec1e"]]);export{j as C};
