import{g as V,k as g,r as m,A as b,c as r,o as d,a as u,p as h,a5 as x,n as v,u as D,t as $,l as M,e as A,y as N,_ as O}from"./CbJ3mJef.js";import{S as T}from"./DI1KZgM5.js";/* empty css        */const U={class:"c-input"},E={class:"c-inpType"},L=["for"],j=["id","name","placeholder","value","readonly","disabled"],q={class:"custom-select mail"},F={key:1,class:"feedback error"},G=V({__name:"InputMail",props:{label:{type:String,default:""},labelSize:{type:String,default:"1.2rem"},labelClass:{type:String,default:""},name:{type:String,default:""},placeholder:{type:String,default:"이메일 입력"},modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},customDomains:{type:Array,default:()=>[]},size:{type:String,validator:a=>["lg","sm","normal"].includes(a),default:"normal"}},emits:["update:modelValue","change"],setup(a,{emit:I}){const s=a,p=I,c=g(()=>{if(s.customDomains.length>0)return s.customDomains.some(n=>n.value==="direct")?s.customDomains:[...s.customDomains,{value:"direct",label:"직접 입력"}];const e=[{value:"direct",label:"직접 입력"}];return console.log("emailDomainOptions:",e),e}),f=s.name,o=m(""),l=m(""),i=m(""),S=g(()=>o.value?l.value===""&&i.value?`${o.value}@${i.value}`:l.value&&l.value!=="direct"?`${o.value}@${l.value}`:o.value:"");b(()=>s.modelValue,e=>{if(e&&e.includes("@")){const[t,n]=e.split("@");o.value=t;const y=c.value.find(C=>C.value===n);y&&y.value!=="direct"?(l.value=n,i.value=""):(l.value="",i.value=n)}else o.value=e||"",l.value="",i.value=""},{immediate:!0}),b(S,e=>{p("update:modelValue",e),p("change",e)});function k(e){o.value=e.target.value}function z(e){i.value=e.target.value}function B(e){e.value==="direct"?(l.value="",console.log("직접입력")):l.value=e.value}return(e,t)=>(d(),r("div",U,[u("div",E,[a.label?(d(),r("label",{key:0,for:D(f),class:v(["c-label",a.labelClass]),style:x({fontSize:a.labelSize})},$(a.label),15,L)):h("",!0),u("div",{class:v(["c-inp-el",{lg:s.size==="lg",sm:s.size==="sm"}])},[u("input",{id:D(f),name:a.name,placeholder:a.placeholder,value:o.value,readonly:a.readonly,disabled:a.disabled,class:v(["c-inp",e.$attrs.class,{"is-invalid":a.isInvalid}]),onInput:k},null,42,j),t[2]||(t[2]=u("span",{class:"at-txt"},"@",-1)),u("div",q,[l.value===""&&c.value.length===1&&c.value[0].value==="direct"?M((d(),r("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=n=>i.value=n),class:"c-inp domain-input",placeholder:"도메인 입력",onInput:z},null,544)),[[N,i.value]]):(d(),A(T,{key:1,modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=n=>l.value=n),"select-placeholder":"이메일 선택","modal-title":"이메일을 선택해주세요","custom-opts":c.value,transparent:!0,onChange:B},null,8,["modelValue","custom-opts"]))])],2),a.isInvalid?(d(),r("p",F,t[3]||(t[3]=[u("span",{class:"text"},"올바른 이메일 주소를 입력하세요",-1)]))):h("",!0)])]))}}),P=O(G,[["__scopeId","data-v-de3b3267"]]);export{P as I};
