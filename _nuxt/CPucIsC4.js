import{_ as q}from"./CgQ5lQtw.js";import{S as R}from"./CDOPN4Cc.js";import{L as H}from"./C6ooJlWE.js";import{g as P,r as m,c as d,o as l,a,b as r,d as L,w as p,u as c,F as T,h as S,_ as D,s as J,a6 as K,p as V,e as f,ad as Q,n as W}from"./CEJX9E6Q.js";import{B as X}from"./y78D3B1n.js";import{C as j}from"./CH4TuSym.js";import{C as Y}from"./CR-Xt0lD.js";import{T as Z}from"./DFuH0rKV.js";import{F as mm}from"./CV-31FcE.js";import{B as tm}from"./CFdCBK2j.js";import{_ as em}from"./DGl7CFem.js";import"./CJS4WFyZ.js";/* empty css        */import"./C38eONkF.js";/* empty css        */const om=""+new URL("ico-heart.ep2efOSS.svg",import.meta.url).href,im={class:"topic-community-tab"},nm={class:"community-list"},sm=P({__name:"TopicCommunityTab",setup(k){const g=m("all"),o=m([{title:"전체",key:"all"},{title:"건강의신",key:"option1"},{title:"건강/운동",key:"option2"},{title:"질병/병원",key:"option3"}]),y=[{id:1,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:2,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:3,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:4,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:5,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:6,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:7,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:8,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:9,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:10,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:11,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:12,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1}];return(i,u)=>(l(),d("section",im,[u[0]||(u[0]=a("div",{class:"community-banner"},[a("strong",{class:"tit"},[L("건강한 이야기 "),a("br"),L("여기에 다 모여있어요!")]),a("div",{class:"img"},[a("img",{src:om,alt:""})])],-1)),r(R,null,{default:p(()=>[r(X,{tabs:c(o),"active-key":c(g),variant:"fill-type",onTabChange:i.onBoxTabChange,class:"mb-20"},null,8,["tabs","active-key","onTabChange"])]),_:1}),a("div",nm,[(l(),d(T,null,S(y,n=>r(j,{key:n.id,url:n.url,member:!0,"has-new-posts":n.hasNewPosts,"community-img":n.communityImg,"community-title":n.communityTitle,"community-text":n.communityText,"community-member":n.communityMember},null,8,["url","has-new-posts","community-img","community-title","community-text","community-member"])),64))])]))}}),um=D(sm,[["__scopeId","data-v-5778ea92"]]),cm=""+new URL("img-no-community.DTiGi1aj.svg",import.meta.url).href,lm={class:"community-list"},am={key:0,class:"loading-spinner"},rm={key:1,class:"empty-state"},b=10,ym=P({__name:"MyCommunityTab",setup(k){const o=m([{id:1,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:2,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:3,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:4,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:5,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:6,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:7,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:8,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:9,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1},{id:10,url:"#",communityImg:"community/home/img-community-01.svg",communityTitle:"걷기왕 챌린지",communityText:"챌린지 함께하면 리워드가 팡팡!",communityMember:23,hasNewPosts:!0},{id:11,url:"#",communityImg:"community/home/img-community-02.svg",communityTitle:"스마트링",communityText:"스마트한 건강관리의 시작!",communityMember:23,hasNewPosts:!1},{id:12,url:"#",communityImg:"community/home/img-community-03.svg",communityTitle:"실손청구 노하우",communityText:"실손청구의 모든것.",communityMember:23,hasNewPosts:!1}]),y=m([]),i=m(!1),u=m(!0),n=m(0),x=m(null),w=m(!1),E=()=>{w.value=!w.value};J(()=>{F(),A()});const F=()=>{if(o.value.length>0){const t=o.value.slice(0,b);y.value=t,n.value=1,u.value=o.value.length>b}},U=async()=>{if(!(i.value||!u.value)){i.value=!0;try{await new Promise(N=>setTimeout(N,1e3));const t=n.value*b,s=t+b,e=o.value.slice(t,s);e.length>0?(y.value.push(...e),n.value++,y.value.length>=o.value.length&&(u.value=!1)):u.value=!1}catch(t){console.error("추가 데이터 로드 실패:",t)}finally{i.value=!1}}},A=()=>{if(!x.value)return;const t=new IntersectionObserver(s=>{s[0].isIntersecting&&u.value&&!i.value&&U()},{threshold:.1,rootMargin:"50px"});t.observe(x.value),K(()=>{t.disconnect()})},h=m(-1),v=m(null),_=m(!1),B=m(""),M=()=>{_.value=!_.value},C=m(!1),O=()=>{if(h.value!==-1&&v.value){B.value=`${v.value.communityTitle}에서 탈퇴 처리가 완료되었습니다.`,y.value.splice(h.value,1);const t=o.value.findIndex(s=>{var e;return s.id===((e=v.value)==null?void 0:e.id)});t!==-1&&o.value.splice(t,1)}I(),h.value=-1,v.value=null,M()},$=m(""),z=()=>{v.value&&($.value=`
      탈퇴 후에는 해당 커뮤니티 활동이 불가합니다.<br/>정말 ${v.value.communityTitle}에서 탈퇴하시겠습니까?
    `,C.value=!0)},I=()=>{C.value=!1},G=(t,s)=>{h.value=s,v.value=t,z()};return(t,s)=>(l(),d(T,null,[a("section",{class:W(["my-community-tab",{"no-community":c(o).length===0}])},[c(o).length>0?(l(),d(T,{key:0},[r(mm,{class:"space-between align-center"},{default:p(()=>[r(Z,{title:"내가 가입한 커뮤니티",class:"mb-0"}),r(tm,{"btn-type":"line","element-type":"button","aria-label":"커뮤니티 탈퇴하기",class:"xxs",width:11.4,"border-radius":14,onClick:E})]),_:1}),a("div",lm,[(l(!0),d(T,null,S(c(y),(e,N)=>(l(),f(j,{key:e.id,url:e.url,member:!0,"has-new-posts":e.hasNewPosts,"community-img":e.communityImg,"community-title":e.communityTitle,"community-text":e.communityText,"community-member":e.communityMember,"is-editing":c(w),onRemoveCommunity:vm=>G(e,N)},null,8,["url","has-new-posts","community-img","community-title","community-text","community-member","is-editing","onRemoveCommunity"]))),128)),c(i)?(l(),d("div",am,s[0]||(s[0]=[a("div",{class:"spinner"},null,-1)]))):V("",!0),a("div",{ref_key:"scrollTrigger",ref:x,class:"scroll-trigger"},null,512)])],64)):(l(),d("div",rm,s[1]||(s[1]=[Q('<div class="empty-info" data-v-33e49e12><h3 class="empty-title" data-v-33e49e12>가입한 커뮤니티가 없어요</h3><p class="empty-description" data-v-33e49e12> 관심분야의 커뮤니티에 가입하고,<br data-v-33e49e12> 건강한 일상과 정보를 함께 나눠보세요. </p></div><div class="empty-icon" data-v-33e49e12><img src="'+cm+'" alt="" data-v-33e49e12></div>',2)])))],2),r(em,{"is-visible":c(_),content:c(B),"confirm-button-text":"확인",onClose:M,onConfirm:M},null,8,["is-visible","content"]),r(Y,{"is-visible":c(C),"is-show-close-button":!1,html:c($),"confirm-button-text":"탈퇴하기","cancel-button-text":"취소하기",onConfirm:O,onCancel:I,onClose:I},null,8,["is-visible","html"])],64))}}),gm=D(ym,[["__scopeId","data-v-33e49e12"]]),Bm=P({__name:"index",setup(k){const g=m("subject"),o=m([{title:"주제별 커뮤니티",key:"subject"},{title:"내 커뮤니티",key:"my"}]),y=i=>{g.value=i};return(i,u)=>(l(),f(q,{"page-title":"커뮤니티 둘러보기","show-back-button":!0},{default:p(()=>[r(R,null,{default:p(()=>[r(H,{tabs:o.value,"active-key":g.value,onTabChange:y},null,8,["tabs","active-key"]),g.value==="subject"?(l(),f(um,{key:0})):g.value==="my"?(l(),f(gm,{key:1,onRemoveCommunity:u[0]||(u[0]=n=>i.removeCommunity(i.index))})):V("",!0)]),_:1})]),_:1}))}});export{Bm as default};
