import{_ as ve}from"./C8HGqZrx.js";import{_ as me}from"./ZIkrMwlP.js";import{C as T}from"./VIBIElGZ.js";import{C as fe}from"./oooxFYXR.js";/* empty css        */import{R as he}from"./B_m6lQjh.js";import{g as se,r as o,k as C,x as pe,a2 as ge,A as Ye,c as y,o as w,a as l,a5 as Z,F as ee,h as ae,n as te,t as N,_ as le,e as ke,w as ne,b as d,d as Me,m as xe}from"./CbJ3mJef.js";const Te={class:"year-month-picker"},we={class:"picker-container"},ye={class:"picker-section"},Ce={class:"picker-section"},f=48,be=se({__name:"YearMonthPicker",props:{modelValue:{default:null},minYear:{default:1990},maxYear:{default:new Date().getFullYear()}},emits:["update:modelValue"],setup(E,{emit:x}){var Q,W;const i=E,R=x,S=new Date().getFullYear(),F=new Date().getMonth()+1,v=o(((Q=i.modelValue)==null?void 0:Q.year)||S),m=o(((W=i.modelValue)==null?void 0:W.month)||F),b=o(),D=o(),c=o(0),r=o(0),s=o(!1),u=o(!1),$=o(0),B=o(0),g=C(()=>{const t=[];t.push(null,null);for(let e=i.minYear;e<=i.maxYear;e++)t.push(e);return t.push(null,null),t}),Y=C(()=>{const t=[];t.push(null,null);for(let e=1;e<=12;e++)t.push(e);return t.push(null,null),t}),P=C(()=>{const e=-(g.value.length-1)*f,a=Math.max(e,Math.min(0,c.value));return Math.round(-a/f)}),A=C(()=>{const e=-(Y.value.length-1)*f,a=Math.max(e,Math.min(0,r.value));return Math.round(-a/f)}),oe=t=>{if(t==="year"){const e=P.value;if(e>=0&&e<g.value.length){const a=g.value[e];a!==null&&a!==v.value&&(v.value=a,q())}}else{const e=A.value;if(e>=0&&e<Y.value.length){const a=Y.value[e];a!==null&&a!==m.value&&(m.value=a,q())}}},q=()=>{R("update:modelValue",{year:v.value,month:m.value}),console.log(`📅 선택된 날짜: ${v.value}년 ${m.value}월`)},z=t=>{const e=t==="year"?c:r,a=t==="year"?g.value:Y.value;let n=Math.round(-e.value/f);for(;n>=0&&n<a.length&&a[n]===null;){const k=re(a,n),M=ue(a,n);if(k===-1&&M===-1)break;if(k===-1)n=M;else if(M===-1)n=k;else{const _=n-k,L=M-n;n=_<=L?k:M}}n=Math.max(0,Math.min(a.length-1,n));const h=-n*f,p=e.value,ie=h-p,ce=200,de=performance.now(),X=k=>{const M=k-de,_=Math.min(M/ce,1),L=1-Math.pow(1-_,3);e.value=p+ie*L,_<1?requestAnimationFrame(X):(e.value=h,oe(t))};requestAnimationFrame(X)},re=(t,e)=>{for(let a=e-1;a>=0;a--)if(t[a]!==null)return a;return-1},ue=(t,e)=>{for(let a=e+1;a<t.length;a++)if(t[a]!==null)return a;return-1},I=(t,e)=>{const a=e==="year"?g.value:Y.value,n=0,h=-(a.length-1)*f;return Math.max(h,Math.min(n,t))},G=(t,e)=>{e==="year"?s.value=!0:u.value=!0,$.value=t.touches[0].clientY,B.value=e==="year"?c.value:r.value},H=(t,e)=>{if(!(e==="year"?s.value:u.value))return;t.preventDefault();const h=t.touches[0].clientY-$.value,p=B.value+h;e==="year"?c.value=I(p,"year"):r.value=I(p,"month")},U=t=>{if(t==="year"){if(!s.value)return;s.value=!1}else{if(!u.value)return;u.value=!1}z(t)},j=(t,e)=>{e==="year"?s.value=!0:u.value=!0,$.value=t.clientY,B.value=e==="year"?c.value:r.value,t.preventDefault()},J=(t,e)=>{if(!(e==="year"?s.value:u.value))return;const h=t.clientY-$.value,p=B.value+h;e==="year"?c.value=I(p,"year"):r.value=I(p,"month")},V=t=>{if(t==="year"){if(!s.value)return;s.value=!1}else{if(!u.value)return;u.value=!1}z(t)},K=()=>{const t=g.value.findIndex(e=>e===v.value);t!==-1&&(c.value=-t*f)},O=()=>{const t=Y.value.findIndex(e=>e===m.value);t!==-1&&(r.value=-t*f)};return pe(()=>{ge(()=>{K(),O()})}),Ye(()=>i.modelValue,t=>{t&&(t.year!==v.value&&(v.value=t.year,K()),t.month!==m.value&&(m.value=t.month,O()))},{deep:!0}),(t,e)=>(w(),y("div",Te,[l("div",we,[l("div",ye,[l("div",{ref_key:"yearRollContainer",ref:b,class:"roll-container"},[l("div",{class:"roll-wheel",style:Z({transform:`translateY(${c.value}px)`}),onTouchstart:e[0]||(e[0]=a=>G(a,"year")),onTouchmove:e[1]||(e[1]=a=>H(a,"year")),onTouchend:e[2]||(e[2]=()=>U("year")),onMousedown:e[3]||(e[3]=a=>j(a,"year")),onMousemove:e[4]||(e[4]=a=>J(a,"year")),onMouseup:e[5]||(e[5]=()=>V("year")),onMouseleave:e[6]||(e[6]=()=>V("year"))},[(w(!0),y(ee,null,ae(g.value,(a,n)=>(w(),y("div",{key:`year-${a||n}`,class:te(["roll-item",{active:n===P.value,fade:Math.abs(n-P.value)>1,empty:a===null}])},N(a?`${a}년`:""),3))),128))],36)],512)]),l("div",Ce,[l("div",{ref_key:"monthRollContainer",ref:D,class:"roll-container"},[l("div",{class:"roll-wheel",style:Z({transform:`translateY(${r.value}px)`}),onTouchstart:e[7]||(e[7]=a=>G(a,"month")),onTouchmove:e[8]||(e[8]=a=>H(a,"month")),onTouchend:e[9]||(e[9]=()=>U("month")),onMousedown:e[10]||(e[10]=a=>j(a,"month")),onMousemove:e[11]||(e[11]=a=>J(a,"month")),onMouseup:e[12]||(e[12]=()=>V("month")),onMouseleave:e[13]||(e[13]=()=>V("month"))},[(w(!0),y(ee,null,ae(Y.value,(a,n)=>(w(),y("div",{key:`month-${a||n}`,class:te(["roll-item",{active:n===A.value,fade:Math.abs(n-A.value)>1,empty:a===null}])},N(a?`${a}월`:""),3))),128))],36)],512)]),e[14]||(e[14]=l("div",{class:"selection-indicator"},null,-1))])]))}}),De=le(be,[["__scopeId","data-v-f77bdf77"]]),$e={class:"total-claim"},Be={class:"sort-insurance"},Ie={class:"wrap-rank-list"},Ve={class:"wrap-search"},_e={class:"wrap-term"},Re=se({__name:"rankList",setup(E){const x=o(!1),i=o({year:new Date().getFullYear(),month:new Date().getMonth()+1}),R=C(()=>`${i.value.year}년 ${i.value.month}월`),S=o({title:"검색 조건을 선택해 주세요.",isShowCloseButton:!0,isShowCancelButton:!1,isShowConfirmButton:!0,confirmButtonText:"확인",cancelButtonText:"취소",disabledCancelButton:!1,disabledConfirmButton:!1}),F=()=>{x.value=!0},v=()=>{console.log("하단 모달 취소")},m=()=>{console.log("하단 모달 확인 클릭"),x.value=!1},b=[{name:"전체 설계사",code:"agents"},{name:"소속 보험사  / GA",code:"insurance"}],D=o(0),c=r=>{D.value=r,console.log("Round 탭 클릭:",b[r])};return(r,s)=>(w(),ke(ve,{"has-share":!0,"page-title":"대리청구 순위","show-back-button":!0,style:{"background-color":"#fefefe"},"is-transparent":!0,"has-add-text":!1,"add-text-click-enabled":!0},{default:ne(()=>[s[4]||(s[4]=l("h1",{class:"c-tit mt-24"},[l("span",{class:"text"}," 청구의신 대리청구 순위예요 ")],-1)),l("div",$e,[l("div",Be,[s[3]||(s[3]=l("button",{class:"item"},"전체 설계사",-1)),l("button",{class:"item",onClick:F},[Me(N(R.value)+" ",1),s[2]||(s[2]=l("i",{class:"icon-arrow-down"},null,-1))])])]),l("div",Ie,[d(T,{rank:"1",changed:"up","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-class":"cases"}),d(T,{rank:"2",changed:"down","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-class":"cases"}),d(T,{rank:"3",changed:"down","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-class":"cases"}),d(fe,{rank:"4",changed:"up","changed-rank":"2","is-show-steps":!1,"total-class":"cases"}),d(T,{rank:"5",changed:"up","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-class":"cases"}),d(T,{rank:"6",changed:"up","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-class":"cases"}),d(T,{rank:"7",changed:"up","changed-rank":"2","user-name":"곰탱이","user-location":"서울금천","is-show-steps":!1,"total-num":"120","total-class":"cases"})]),d(me,xe({"is-visible":x.value},S.value,{onCancel:v,onConfirm:m,onClose:s[1]||(s[1]=u=>x.value=!1)}),{content:ne(()=>[l("div",Ve,[d(he,{tabs:b,"active-index":D.value,onTabClick:c},null,8,["active-index"]),l("div",_e,[d(De,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=u=>i.value=u)},null,8,["modelValue"])])])]),_:1},16,["is-visible"])]),_:1,__:[4]}))}}),qe=le(Re,[["__scopeId","data-v-3b3ac803"]]);export{qe as default};
