import{_ as L}from"./COZRz6YZ.js";import{B as U}from"./CfZVyjAv.js";import{B as D}from"./Bvlp-8xv.js";import{_ as z}from"./BIybNI5N.js";import{I as E}from"./DTfI2e4A.js";import{g as G,k as i,r as C,c as m,o as n,e as N,p as v,w as c,a as e,t as a,n as P,F as K,b as d,d as w,a7 as q,_ as A}from"./DXf4teaX.js";const J={key:0,class:"homework-item"},O={class:"homework-item-title"},Q={class:"item-title"},W={class:"homework-item-date"},X={class:"period"},Y={class:"date"},Z={class:"homework-item-info"},x={class:"homework-item-basic"},ee={class:"info-row"},oe={class:"info-value"},te={class:"info-row"},se={class:"info-value"},ae={key:0,class:"homework-item-progress"},re={class:"info-row"},ie={class:"info-value completed"},ne={class:"info-value progress"},le={key:1,class:"homework-item-header is-new"},me={class:"homework-item-title"},ce={class:"item-title"},de={class:"homework-item-date"},ue={class:"period"},he={class:"date"},we={class:"homework-item-info"},ke={class:"homework-item-basic"},pe={class:"info-row"},_e={class:"info-value"},fe={class:"info-row"},ve={class:"info-value"},ye={class:"homework-item-content"},ge={class:"homework-item-content-header"},be=["src"],De={class:"creator-name"},Ce={class:"homework-description"},Ne={key:1,class:"homework-item empty-homework"},Pe="/_nuxt/assets/images/",je=G({name:"HomeworkItem",__name:"HomeworkItem",props:{homework:{}},emits:["view-detail","accept-homework","reject-homework"],setup(j,{emit:B}){const s=j,y=B,u=i(()=>s.homework),l=i(()=>s.homework.isNew===!0);i(()=>s.homework.isParticipating===!0);const H=i(()=>s.homework.myCompletedDate),I=i(()=>s.homework.missionProgressDays),k=C(!1),p=C(""),R=i(()=>l.value?"":s.homework.status==="completed"?"완료된 숙제":s.homework.status==="active"&&s.homework.isParticipating?"진행중":s.homework.status==="active"&&!s.homework.isParticipating?"진행전":"만료된 숙제"),S=i(()=>l.value?"":s.homework.status==="completed"?"completed":s.homework.status==="active"&&s.homework.isParticipating?"in-progress":s.homework.status==="active"&&!s.homework.isParticipating?"not-started":"expired"),T=i(()=>s.homework.creatorProfile?`${Pe}${s.homework.creatorProfile}`:""),g=o=>o.filter(r=>r.isSelected).map(r=>r.day).join(", ")||"없음",b=o=>{const r=o.filter(f=>f.isSelected).length;return r===0?"없음":r===1?"1명":r===2?"2명":r===3?"3명":`${r}명`},h=o=>new Date(o).toLocaleDateString("ko-KR",{month:"long",day:"numeric"}),V=()=>{u.value&&y("accept-homework",u.value.id)},$=()=>{k.value=!0,p.value=""},_=()=>{k.value=!1},M=()=>{u.value&&(y("reject-homework",u.value.id),_())},F=()=>{_()};return(o,t)=>{const r=L;return o.homework?(n(),m("div",J,[l.value?(n(),m("div",le,[e("div",me,[e("strong",ce,a(o.homework.title),1)]),e("div",de,[e("span",ue,a(h(o.homework.startDate))+" ~ "+a(h(o.homework.endDate)),1),e("span",he,a(g(o.homework.verificationDays)),1)]),e("div",we,[e("div",ke,[e("div",pe,[t[3]||(t[3]=e("span",{class:"info-label"},"개설자",-1)),e("span",_e,a(o.homework.creatorName||"알 수 없음"),1)]),e("div",fe,[t[4]||(t[4]=e("span",{class:"info-label"},"숙제대상",-1)),e("span",ve,a(b(o.homework.targets)),1)])])])])):(n(),N(r,{key:0,to:`/community/familycare/homework/detail/${o.homework.id}`,class:"homework-item-link"},{default:c(()=>[e("div",{class:P(["homework-item-header",{"is-new":l.value}])},[e("div",O,[e("strong",Q,a(o.homework.title),1),l.value?v("",!0):(n(),m("span",{key:0,class:P(["status-flag",S.value])},a(R.value),3))]),e("div",W,[e("span",X,a(h(o.homework.startDate))+" ~ "+a(h(o.homework.endDate)),1),e("span",Y,a(g(o.homework.verificationDays)),1)]),e("div",Z,[e("div",x,[e("div",ee,[t[1]||(t[1]=e("span",{class:"info-label"},"개설자",-1)),e("span",oe,a(o.homework.creatorName||"알 수 없음"),1)]),e("div",te,[t[2]||(t[2]=e("span",{class:"info-label"},"숙제대상",-1)),e("span",se,a(b(o.homework.targets)),1)])]),l.value?v("",!0):(n(),m("div",ae,[e("div",re,[e("span",ie,a(H.value)+"일째",1),e("span",ne,a(I.value)+"일",1)])]))])],2)]),_:1},8,["to"])),l.value?(n(),m(K,{key:2},[e("div",ye,[e("div",ge,[e("img",{src:T.value,alt:"개설자 프로필",class:"creator-profile"},null,8,be),e("span",De,a(o.homework.creatorName||"개설자"),1)]),e("p",Ce,a(o.homework.description),1)]),d(U,{class:"homework-item-actions",gap:"8"},{default:c(()=>[d(D,{"btn-type":"secondary","element-type":"button",class:"sm",onClick:$},{default:c(()=>t[5]||(t[5]=[w("거절")])),_:1,__:[5]}),d(D,{"btn-type":"primary","element-type":"button",class:"sm",onClick:V},{default:c(()=>t[6]||(t[6]=[w("수락")])),_:1,__:[6]})]),_:1})],64)):v("",!0),(n(),N(q,{to:"body"},[d(z,{"is-visible":k.value,title:"숙제를 거절하시겠어요?","is-show-close-button":!0,"is-show-cancel-button":!0,"is-show-confirm-button":!0,"confirm-button-text":"거절하기","cancel-button-text":"취소하기",onClose:_,onConfirm:M,onCancel:F},{content:c(()=>[e("div",null,[d(E,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=f=>p.value=f),placeholder:"거절사유를 간단히 남겨주세요. (선택)"},null,8,["modelValue"])])]),_:1},8,["is-visible"])]))])):(n(),m("div",Ne,t[7]||(t[7]=[e("div",{class:"empty-content"},[e("p",{class:"empty-text"},"등록된 숙제가 없어요:)"),e("p",{class:"empty-subtext"},[w("숙제를 추가해 함께 한걸음씩 "),e("br"),w("더 나은 하루를 만들어봐요")])],-1)])))}}}),Ve=A(je,[["__scopeId","data-v-9b441ed1"]]);export{Ve as H};
