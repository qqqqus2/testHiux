import{_ as K}from"./hUzsyyX8.js";import{R as Q}from"./3fK4VIpB.js";import{_ as y,c as _,o as v,ad as B,g as T,r as f,k as S,b as h,w as I,a as t,a4 as A,u as tt,F as G,h as H,t as E,s as N,a1 as at,z as et,n as st,d as u,e as O,m as ot,Z as nt}from"./D3dCSwSP.js";import{_ as lt}from"./CeEUwjkG.js";import{m as rt}from"./BfWVpWrw.js";import{_ as it}from"./CrvP_xnc.js";const ct={},dt={class:"date-range-wrap"};function ut(m,e){return v(),_("div",dt,e[0]||(e[0]=[B('<div class="date-range" data-v-71062f1e><button type="button" disabled class="c-btn icon btn-prev" aria-label="이전 날짜로" data-v-71062f1e></button><div class="date-text" data-v-71062f1e><div class="main-date" data-v-71062f1e>2025년 4월</div><span class="detail-range" data-v-71062f1e>04월 1일 ~ 04월 30일</span></div><button type="button" class="c-btn icon btn-next" aria-label="다음 날짜로" data-v-71062f1e></button></div>',1)]))}const pt=y(ct,[["render",ut],["__scopeId","data-v-71062f1e"]]),vt={class:"walking-graph-container"},ft={ref:"scrollContainer",class:"chart-scroll-container"},mt={class:"fixed-yaxis-labels"},gt=T({__name:"WalkingGraph",props:{title:{default:"일일 걸음수"},height:{default:"300px"},categories:{default:()=>Array.from({length:31},(m,e)=>`${e+1}`)},datas:{default:()=>[8500,12300,9800,15200,11400,13600,16800,7200,14500,18900,6800,11200,9500,17600,12800,8900,19200,5400,13700,16100,7800,10500,14200,18400,9200,12600,15800,6900,17300,13500,2e4]},goalSteps:{default:1e4},showScrollHint:{type:Boolean,default:!0}},setup(m){const e=m,n=f(!1),b=S(()=>{const s=e.datas.map(r=>r>=e.goalSteps?"#4C7FF7":"#C4D2DE");return{chart:{type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{borderRadius:6,borderRadiusApplication:"around",horizontal:!1,columnWidth:12,distributed:!0,dataLabels:{position:"top"}}},colors:s,dataLabels:{enabled:!1},xaxis:{categories:e.categories,labels:{style:{fontSize:"11px",colors:"#959595"},rotate:-45}},yaxis:{opposite:!0,min:0,max:e.goalSteps*2,tickAmount:4,labels:{show:!1,formatter:function(r){return r},style:{fontSize:"11px",colors:"#666"}},floating:!1,axisBorder:{show:!1},axisTicks:{show:!1}},grid:{show:!1,borderColor:"#e5e7eb",strokeDashArray:5},legend:{show:!1},tooltip:{theme:"dark",followCursor:!1,intersect:!0,shared:!1,offsetX:0,offsetY:0,trigger:"click",fixed:{enabled:!1},marker:{show:!1},style:{fontSize:"12px"},onDatasetHover:{highlightDataSeries:!1},custom:function({series:r,seriesIndex:p,dataPointIndex:i,w:Y}){const M=r[p][i],k=new Date,C=k.getFullYear(),$=String(k.getMonth()+1).padStart(2,"0"),D=String(i+1).padStart(2,"0"),F=`${C}.${$}.${D}`;return r[0].length,i===0?n.value=!0:n.value=!1,`
          <div style="
            position: absolute; left: 50%; transform: translateX(-50%) translateY(-100%);
            background-color: #4f5561;
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 9999;
            white-space: nowrap;
          ">
            <div style="
              margin: 0;
              padding: 0;
              padding-bottom: 0;
              margin-bottom: 4px;
              color: white;
              font-weight: normal;
            ">
              ${F}
            </div>
            <div style="color: white; white-space:nowrap">
              ${M.toLocaleString()} 걸음 / 6.04km
            </div>
            
          </div>
        `}},annotations:{yaxis:[{y:e.goalSteps,borderColor:"#4C7FF7",borderWidth:1,strokeDashArray:2}]}}}),x=S(()=>[{name:"",data:e.datas}]),o=S(()=>e.categories.length*25),d=S(()=>{const s=e.goalSteps*2,r=e.goalSteps/2;return[{text:s.toLocaleString(),position:0},{text:(s-r).toLocaleString(),position:25},{text:e.goalSteps.toLocaleString(),position:50},{text:r.toLocaleString(),position:75},{text:"0",position:100}]});return(s,r)=>{const p=lt;return v(),_("div",vt,[h(p,null,{default:I(()=>[t("div",ft,[t("div",{class:"chart-wrapper",style:A({minWidth:o.value+"px"})},[h(tt(rt),{type:"bar",options:b.value,series:x.value,height:s.height},null,8,["options","series","height"])],4)],512),t("div",mt,[(v(!0),_(G,null,H(d.value,(i,Y)=>(v(),_("div",{key:Y,class:"yaxis-label",style:A({top:i.position+"%"})},E(i.text),5))),128))])]),_:1})])}}}),ht=y(gt,[["__scopeId","data-v-2b634b88"]]),_t={class:"graph-wrap"},xt=T({__name:"WalkingDashboard",setup(m){return(e,n)=>(v(),_("div",_t,[n[0]||(n[0]=B('<div class="walking-length" data-v-5536f62a><span class="tit" data-v-5536f62a>일 평균 걸음수</span><strong class="steps-amount" data-v-5536f62a>15,876</strong><span class="sub-tit" data-v-5536f62a>일평균 <span class="average-txt" data-v-5536f62a>36.45 km / 549 kcal</span></span></div><div class="average-detail" data-v-5536f62a><div class="item" data-v-5536f62a><strong class="amount" data-v-5536f62a>250,584</strong><span class="detail-txt" data-v-5536f62a>총 걸음</span></div><div class="item" data-v-5536f62a><strong class="amount" data-v-5536f62a>36.45 km</strong><span class="detail-txt" data-v-5536f62a>총 이동거리</span></div><div class="item" data-v-5536f62a><strong class="amount" data-v-5536f62a>7 / 15</strong><span class="detail-txt" data-v-5536f62a>목표달성</span></div></div>',2)),h(ht,{title:"일별 걸음수 현황",goalSteps:15e3})]))}}),bt=y(xt,[["__scopeId","data-v-5536f62a"]]),wt={class:"roll-step-select"},w=48,St=T({__name:"RollSelectSteps",props:{modelValue:{default:8e3},min:{default:5e3},max:{default:3e4},step:{default:500}},emits:["update:modelValue"],setup(m,{emit:e}){const n=m,b=e,x=f(),o=f(0),d=f(!1),s=f(0),r=f(0),p=f(n.modelValue),i=S(()=>{const a=[];for(let l=n.min;l<=n.max;l+=n.step)a.push(l);return a}),Y=S(()=>i.value.findIndex(a=>a===p.value)),M=S(()=>{const l=-(i.value.length-1)*w,c=Math.max(l,Math.min(0,o.value));return Math.round(-c/w)}),k=()=>{const a=M.value;if(a>=0&&a<i.value.length){const l=i.value[a];l!==p.value&&(p.value=l,b("update:modelValue",p.value),console.log("선택된 목표 걸음수 = "+p.value))}},C=()=>{const a=Math.round(-o.value/w),c=-Math.max(0,Math.min(i.value.length-1,a))*w,g=o.value,X=c-g,j=200,P=performance.now(),R=U=>{const Z=U-P,V=Math.min(Z/j,1),J=1-Math.pow(1-V,3);o.value=g+X*J,V<1?requestAnimationFrame(R):(o.value=c,k())};requestAnimationFrame(R)},$=a=>{const c=-(i.value.length-1)*w;return Math.max(c,Math.min(0,a))},D=a=>{d.value=!0,s.value=a.touches[0].clientY,r.value=o.value},F=a=>{if(!d.value)return;a.preventDefault();const c=a.touches[0].clientY-s.value,g=r.value+c;o.value=$(g),k()},L=()=>{d.value&&(d.value=!1,C())},W=a=>{d.value=!0,s.value=a.clientY,r.value=o.value,a.preventDefault()},q=a=>{if(!d.value)return;const c=a.clientY-s.value,g=r.value+c;o.value=$(g),k()},z=()=>{d.value&&(d.value=!1,C())};return N(()=>{at(()=>{const a=Y.value;o.value=-a*w})}),et(()=>n.modelValue,a=>{if(a!==p.value){p.value=a;const l=i.value.findIndex(c=>c===a);l!==-1&&(o.value=-l*w)}}),(a,l)=>(v(),_("div",wt,[t("div",{ref_key:"rollContainer",ref:x,class:"roll-container"},[t("div",{class:"roll-wheel",style:A({transform:`translateY(${o.value}px)`}),onTouchstart:D,onTouchmove:F,onTouchend:L,onMousedown:W,onMousemove:q,onMouseup:z,onMouseleave:z},[(v(!0),_(G,null,H(i.value,(c,g)=>(v(),_("div",{key:c,class:st(["roll-item",{active:g===M.value,fade:Math.abs(g-M.value)>1}])},E(c.toLocaleString()),3))),128))],36),l[0]||(l[0]=t("div",{class:"selection-indicator"},null,-1))],512)]))}}),kt=y(St,[["__scopeId","data-v-0717bf0b"]]),yt={},Mt={class:"info-step-calorie"};function Tt(m,e){return v(),_("div",Mt,e[0]||(e[0]=[u(" 10,000걸음 목표로 설정하시면"),t("br",null,null,-1),u(" 걷기운동만으로 매일 "),t("strong",null,"약 573kcal가 소모",-1),u("되며,"),t("br",null,null,-1),u(" 지속적인 목표 달성시 "),t("strong",null,"체중감량효과가 기대",-1),u("됩니다. ")]))}const Yt=y(yt,[["render",Tt],["__scopeId","data-v-57a0c11f"]]),Ct={class:"select-goal-steps"},$t=T({__name:"StepGoalModal",setup(m,{expose:e}){const n=f(!1),b={showCloseButton:!1},x=()=>{n.value=!0},o=()=>{n.value=!1};return e({openModal:x,closeModal:o}),(d,s)=>(v(),O(it,ot({"is-visible":n.value},b,{"confirm-button-text":"설정하기",onClose:o}),{header:I(()=>[t("div",{class:"custom-modal-header"},[s[1]||(s[1]=t("strong",{class:"c-modal-title"},"목표걸음수 설정",-1)),t("button",{type:"button",class:"icon c-modal-close-btn","aria-label":"닫기",onClick:o},s[0]||(s[0]=[t("i",{class:"icon close"},null,-1)]))])]),content:I(()=>[s[3]||(s[3]=t("div",{class:"step-goal-wrap"},[t("div",{class:"modal-tit"},[u(" 회원님의 건강프로필 정보로 "),t("br"),u(" AI분석을 통해 최적의 목표걸음수을 "),t("br"),u(" 제시합니다. ")]),t("div",{class:"sub-tit"},[u(" 건강프로필 설정으로 회원님의"),t("br"),u(" 현재의 건강상태를 알려주세요. ")]),t("div",{class:"recommend-goal"},[t("div",{class:"step-recommend"},[t("span",{class:"tit"},"권장걸음수"),t("div",{class:"txt"},[t("strong",{class:"setting-num"},"8,000"),u(" 걸음/일")])]),t("button",{type:"button",class:"c-btn setting-btn"},"건강프로필 설정")]),t("div",{class:"recommend-info"},[t("strong",{class:"tit"},"권장걸음수란?"),u(" 권장걸음수는 연령대, 성별 기준으로 기본 권장걸음수를 산정하며, 건강프로필 정보를 설정하면 개인에 최적화된 권장 걸음수를 제안합니다. ")])],-1)),t("div",Ct,[s[2]||(s[2]=t("div",{class:"tit"},[t("strong",null,"목표 걸음수"),u(" 일일걸음 Dairy Steps")],-1)),h(kt,{class:"mt-14"}),h(Yt,{class:"mt-16"})])]),_:1},16,["is-visible"]))}}),It=y($t,[["__scopeId","data-v-02726d45"]]),Rt=T({__name:"walkingStatistics",setup(m){const e=f(null),n=nt("setAddTextClickHandler"),b=()=>{e.value.openModal()};N(()=>{n&&n(b)});const x=[{name:"일일 걸음수",code:"dayWalkLength"},{name:"월간 걸음수",code:"monthWalkLength"}],o=f(0),d=s=>{o.value=s,console.log("Round 탭 클릭:",x[s])};return(s,r)=>(v(),O(K,{"show-back-button":!0,"page-title":"걸음수 통계","logo-type":"text","has-add-text":!0,"add-text-click-enabled":!0,"add-text":"<span style='color:#555;font-size:1.4rem;font-weight:600'>목표걸음수 설정</span>"},{default:I(()=>[h(Q,{tabs:x,"active-index":o.value,class:"mt-8",onTabClick:d},null,8,["active-index"]),h(pt),h(bt),h(It,{ref_key:"stepGoalModalRef",ref:e},null,512)]),_:1}))}});export{Rt as default};
