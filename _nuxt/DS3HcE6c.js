import{_ as L}from"./B9HIiqwO.js";import{g as $,r as y,k as v,z as x,a6 as N,c as n,o,n as i,a as r,p as h,e as T,a4 as E,F as b,h as M,t as f,d as F,w as W,a7 as R,a1 as U,_ as j}from"./DZksMEen.js";/* empty css        */const G={class:"c-inpType"},H={key:0,class:"required-mark"},J={key:1},K={key:0,class:"feedback error"},Q={class:"text"},X={class:"select-options"},Y=["onClick"],Z={class:"option-label"},_={key:0,class:"check-icon icon"},ee=$({__name:"Select",props:{label:{type:String,default:""},labelSize:{type:String,default:"1.2rem"},labelClass:{type:String,default:""},selectPlaceholder:{type:String,default:"선택하세요"},modalTitle:{type:String,default:""},modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},validText:{type:String,default:"셀렉트박스 유효성 에러 메시지"},inpType:{type:String,default:""},transparent:{type:Boolean,default:!1},isShowCloseBtn:{type:Boolean,default:!0},isShowCancelBtn:{type:Boolean,default:!0},isShowConfirmBtn:{type:Boolean,default:!0},cancelButtonText:{type:String,default:"취소"},confirmButtonText:{type:String,default:"확인"},customOpts:{type:Array,default:()=>[]},size:{type:String,validator:t=>["lg","sm","normal"].includes(t),default:"normal"}},emits:["update:modelValue","change"],setup(t,{emit:P}){const s=t,g=P,d=y(s.modelValue),c=y(s.modelValue),u=y(!1),m=y(!1),S=v(()=>{const e=s.customOpts.find(a=>a.value===d.value);return(e==null?void 0:e.label)||""}),k=v(()=>s.label.includes("*")),z=v(()=>k.value?s.label.split(/([*])/).filter(e=>e!==""):[]);x(()=>s.modelValue,e=>{d.value=e,c.value=e}),x(d,e=>{g("update:modelValue",e)});const O=()=>{try{const e=document.querySelectorAll(".c-modal.bottom.is-show");for(const l of e)if(l.querySelector(".c-input, .custom-select"))return console.log("Parent modal found with select input:",l),!0;return document.querySelectorAll(".c-modal.is-show .c-dim").length>0}catch(e){return console.warn("Error detecting parent modal:",e),!1}},q=v(()=>{const e="select-modal-teleported",a=m.value?"has-parent-modal":"no-parent-modal";return`${e} ${a}`}),V=()=>{try{document.querySelectorAll(".c-modal.bottom.is-show:not(.select-modal-teleported)").forEach(a=>{const l=a.querySelector(".c-dim");l&&(l.dataset.originalBackground=l.style.backgroundColor||"",l.style.backgroundColor="transparent",l.classList.add("select-hidden-dim"),console.log("Parent modal dim hidden:",a))})}catch(e){console.warn("Error hiding parent modal dim:",e)}},B=()=>{try{document.querySelectorAll(".c-dim.select-hidden-dim").forEach(a=>{const l=a.dataset.originalBackground;l?a.style.backgroundColor=l:a.style.backgroundColor="",a.classList.remove("select-hidden-dim"),delete a.dataset.originalBackground,console.log("Parent modal dim restored:",a)})}catch(e){console.warn("Error restoring parent modal dim:",e)}},I=async()=>{s.disabled||s.readonly||(console.log("openBottomModal - customOpts:",s.customOpts),m.value=O(),console.log("Parent modal detected:",m.value),m.value&&V(),c.value=d.value,u.value=!0,await U(),document.body.style.overflow="hidden")},w=()=>{m.value&&B(),u.value=!1,document.body.style.overflow=""},A=e=>{c.value=e.value},D=()=>{const e=s.customOpts.find(a=>a.value===c.value);e&&(d.value=c.value,g("change",e)),w()},C=()=>{c.value=d.value,w()};return N(()=>{u.value&&(document.body.style.overflow="",m.value&&B())}),(e,a)=>(o(),n("div",{class:i(["c-input",{"search-bar":t.inpType==="search",transparent:t.transparent}])},[r("div",G,[t.label?(o(),n("label",{key:0,class:i(["c-label",t.labelClass]),style:E({fontSize:t.labelSize})},[k.value?(o(!0),n(b,{key:0},M(z.value,(l,p)=>(o(),n("span",{key:p},[l==="*"?(o(),n("span",H,"*")):(o(),n("span",J,f(l),1))]))),128)):(o(),n(b,{key:1},[F(f(t.label),1)],64))],6)):h("",!0),r("div",{class:i(["c-inp-el",{invalid:t.isInvalid,lg:s.size==="lg",sm:s.size==="sm"}])},[r("div",{class:"custom-select custom",onClick:I},[r("div",{class:i(["select-display",{"placeholder-selected":!S.value}])},f(S.value||t.selectPlaceholder),3),r("i",{class:i(["custom-arrow",{open:u.value}])},null,2)])],2)]),t.isInvalid?(o(),n("p",K,[r("span",Q,f(t.validText),1)])):h("",!0),(o(),T(R,{to:"body"},[u.value?(o(),T(L,{key:0,"is-visible":u.value,title:t.modalTitle||"옵션 선택","is-show-cancel-button":t.isShowCancelBtn,"is-show-confirm-button":t.isShowConfirmBtn,"is-show-close-button":t.isShowCloseBtn,"cancel-button-text":t.cancelButtonText,"confirm-button-text":t.confirmButtonText,class:i(q.value),role:"dialog","aria-label":t.modalTitle||"옵션 선택",onClose:C,onCancel:C,onConfirm:D},{content:W(()=>[r("div",X,[(o(!0),n(b,null,M(t.customOpts,l=>(o(),n("div",{key:l.value,class:i(["option-item",{selected:c.value===l.value}]),onClick:p=>A(l)},[r("span",Z,f(l.label),1),c.value===l.value?(o(),n("i",_)):h("",!0)],10,Y))),128))])]),_:1},8,["is-visible","title","is-show-cancel-button","is-show-confirm-button","is-show-close-button","cancel-button-text","confirm-button-text","class","aria-label"])):h("",!0)]))],2))}}),oe=j(ee,[["__scopeId","data-v-4ced30ea"]]);export{oe as S};
