import{D as S}from"./D0js1KnY.js";import{g as _,r as h,A as g,x as V,a7 as P,k as y,e as M,a8 as E,c,p as u,n as H,a as o,t as r,b as N,o as s,a2 as L,_ as U}from"./CbJ3mJef.js";/* empty css        */const z={class:"c-modal-inner"},A={class:"c-modal-header"},K={id:"modalBottomTitle",class:"c-modal-title"},j={class:"c-modal-body"},q={class:"c-modal-footer"},F=["disabled"],G={class:"text"},I=["disabled"],J={class:"text"},O=_({__name:"DatePickerModal",props:{title:{default:""},addTitle:{},addTitleClass:{},isVisible:{type:Boolean,default:!1},isShowCloseButton:{type:Boolean,default:!0},isShowCancelButton:{type:Boolean,default:!0},isShowConfirmButton:{type:Boolean,default:!0},confirmButtonText:{default:"확인"},cancelButtonText:{default:"취소"},disabledCancelButton:{type:Boolean,default:!1},disabledConfirmButton:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},initialDate:{default:null},scheduled:{default:()=>[]},showTimePicker:{type:Boolean,default:!1},defaultHour:{default:0},defaultMinute:{default:0},minuteStep:{default:1}},emits:["confirm","cancel","close","time-change","scheduled-date-click"],setup(b,{emit:B}){const t=b,n=B,a=h(t.initialDate),m=h(""),k=()=>{const e=document.body;m.value=e.style.overflow,e.style.overflow="hidden"},f=()=>{const e=document.body;e.style.overflow=m.value},C=e=>{a.value=e.dateTime,n("time-change",e)},v=e=>{console.log("📌 모달에서 스케줄된 날짜 클릭:",e),n("scheduled-date-click",e)};g(()=>t.isVisible,async e=>{if(e){if(t.initialDate)a.value=new Date(t.initialDate);else if(t.showTimePicker){const d=new Date;d.setHours(t.defaultHour,t.defaultMinute,0,0),a.value=d}else a.value=null;k(),await L();const l=document.getElementById("cDatePicker");l&&l.focus()}else f()});const p=e=>{e.key==="Escape"&&t.isVisible&&i()};V(()=>{document.addEventListener("keydown",p)}),P(()=>{document.removeEventListener("keydown",p),f()});const i=()=>{n("cancel")},w=()=>{n("confirm",a.value)},D=y(()=>t.disabledCancelButton),T=y(()=>t.disabledConfirmButton||!a.value);return(e,l)=>(s(),M(E,{to:"body"},[e.isVisible?(s(),c("div",{key:0,id:"cDatePicker",class:H(["c-modal bottom date-modal",[{"is-show":e.isVisible}]]),"aria-describedby":"modalBottomTitle",tabindex:"-1",role:"dialog","aria-modal":"true"},[o("div",{class:"c-dim",onClick:i}),o("div",z,[o("div",A,[o("strong",K,r(e.title),1),e.isShowCloseButton?(s(),c("button",{key:0,type:"button",class:"c-modal-close-btn","aria-label":"닫기",onClick:i},l[1]||(l[1]=[o("i",{class:"icon close"},null,-1)]))):u("",!0)]),o("div",j,[N(S,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=d=>a.value=d),scheduled:e.scheduled,"show-time-picker":e.showTimePicker,"default-hour":e.defaultHour,"default-minute":e.defaultMinute,"minute-step":e.minuteStep,onTimeChange:C,onScheduledDateClick:v},null,8,["modelValue","scheduled","show-time-picker","default-hour","default-minute","minute-step"])]),o("div",q,[e.isShowCancelButton?(s(),c("button",{key:0,type:"button",class:"c-modal-btn cancel",disabled:D.value,onClick:i},[o("span",G,r(e.cancelButtonText),1)],8,F)):u("",!0),e.isShowConfirmButton?(s(),c("button",{key:1,type:"button",class:"c-modal-btn confirm",disabled:T.value,onClick:w},[o("span",J,r(e.confirmButtonText),1)],8,I)):u("",!0)])])],2)):u("",!0)]))}}),X=U(O,[["__scopeId","data-v-d0855521"]]);export{X as D};
