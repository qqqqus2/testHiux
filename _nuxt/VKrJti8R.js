import{_ as he}from"./B73pkvVt.js";import{L as ge}from"./lyrS68NC.js";import{D as ve}from"./CYAQw0T6.js";import{s as Se}from"./C-i9CbKL.js";import{Q as fe,a as ye}from"./KVotLK_G.js";import{W as Te,_ as be,E as J,S as De}from"./DqZNAjtw.js";import{g as z,r as m,k as i,s as ke,c as M,o as l,a as c,F as O,h as U,a4 as Z,t as V,_ as G,p as T,b as h,u as q,n as Q,a2 as j,K as I,e as f,w as p,d as E,m as _e}from"./DZksMEen.js";import{S as we,a as xe,b as Ce,c as ee,G as Me}from"./DCuyRCim.js";import{_ as $e}from"./BIbBTopR.js";import{C as L}from"./Cus0k60B.js";import{R as Ee}from"./DTB3qenp.js";import{m as Re}from"./C_PDIZ5q.js";import"./XOeveOBs.js";import"./W2kn62HF.js";import"./B9HIiqwO.js";import"./-lYuCJ0y.js";/* empty css        *//* empty css        */import"./R58-L14R.js";/* empty css        */const Be={class:"week-sleep-chart"},Fe={class:"week-chart-bar-sleep"},Ie={class:"bar-chart"},Le={class:"value"},Pe={class:"tit"},We=z({__name:"WeekSleepChart",props:{vitalData:{},sleepType:{default:"remSleep"}},setup($){const g=$,b={remSleep:"#9B48FF",deepSleep:"#243E8E",lightSleep:"#41BCF5"},r={remSleep:100,deepSleep:100,lightSleep:100},v=m({}),x=i(()=>{var y;const d={};for(const D in g.vitalData)if(Object.prototype.hasOwnProperty.call(g.vitalData,D)){const w=new Date(D),C=w.getFullYear(),s=w.getMonth(),n=w.getDate();let S="";if(C===2025&&s===6?n>=1&&n<=5?S="1주":n>=6&&n<=12?S="2주":n>=13&&n<=19?S="3주":n>=20&&n<=26?S="4주":n>=27&&n<=31&&(S="5주"):C===2025&&s===5&&n>=29&&(S="1주"),S){d[S]||(d[S]={totalMinutes:0,count:0});const W=(y=g.vitalData[D])==null?void 0:y[g.sleepType];typeof W=="number"&&(d[S].totalMinutes+=W,d[S].count++)}}const a=[];return["1주","2주","3주","4주","5주"].forEach(D=>{const w=d[D];let C=0,s="0%";if(w&&w.count>0){C=Math.round(w.totalMinutes/w.count);const n=r[g.sleepType];s=`${Math.min(C/n*100,100)}%`}a.push({label:D,avgSleepMinutes:C>0?C:"",heightPercent:s,color:b[g.sleepType]})}),a}),u=i(()=>x.value.map(d=>({...d}))),P=d=>v.value[d]||"0%";return ke(()=>{setTimeout(()=>{const d={};x.value.forEach(a=>{d[a.label]=a.heightPercent}),v.value=d},900)}),(d,a)=>(l(),M("div",Be,[c("div",Fe,[(l(!0),M(O,null,U(u.value,(_,y)=>(l(),M("div",{key:y,class:"item",style:Z({"--bar-color":_.color})},[c("i",Ie,[c("span",{class:"process-bar",style:Z({height:P(_.label)})},[c("span",Le,V(_.avgSleepMinutes)+"분",1)],4)]),c("strong",Pe,V(_.label),1)],4))),128))])]))}}),H=G(We,[["__scopeId","data-v-8e1afe37"]]),Oe={class:"chart-container"},Ve={key:0,class:"empty-data-container"},ze=z({__name:"DailySleepRatioChart",props:{data:{},size:{default:184},height:{default:180},chartClass:{default:""}},setup($){const g=Re,b=$,r=i(()=>b.data),v=i(()=>r.value.length===0?[100]:r.value.map(u=>u.value)),x=i(()=>({chart:{type:"pie",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},labels:r.value.length===0?[""]:r.value.map(u=>u.label),colors:r.value.length===0?["#E2E2E2"]:r.value.map(u=>u.color),legend:{show:!1},dataLabels:{enabled:r.value.length>0,formatter:function(u){return Math.round(u)+"%"},style:{fontFamily:"pretendard",fontSize:"1.8rem",fontWeight:700,colors:["#fff"]},dropShadow:{enabled:!1}},tooltip:{enabled:r.value.length>0},plotOptions:{pie:{size:184,customScale:1.1,offsetX:0,offsetY:1,startAngle:-90,endAngle:270,dataLabels:{offset:-20,minAngleToShowLabel:0},expandOnClick:!1}},stroke:{show:!1},fill:{type:"solid",opacity:1},responsive:[{breakpoint:370,options:{chart:{width:b.size*.9}}}]}));return(u,P)=>(l(),M("div",{class:Q(["chart-wrap",u.chartClass])},[c("div",Oe,[h(q(g),{type:"pie",options:x.value,series:v.value,width:u.size,height:u.height},null,8,["options","series","width","height"])]),r.value.length===0?(l(),M("div",Ve,"데이터가 충분하지 않아요")):T("",!0)],2))}}),Ae=G(ze,[["__scopeId","data-v-8641e938"]]),Ne={class:"sleep-analysis-wrap"},Ye={class:"title-box"},je={class:"tit-box"},He={class:"title"},Ke={class:"diagnosis-box"},Ue={class:"comment-box"},qe=z({__name:"MonthlySleepAnalysis",props:{division:{type:String,required:!0}},setup($){const g=$,b=i(()=>{switch(g.division){case"REM":return"렘 ";case"light":return"얕은 ";case"deep":return"깊은 ";default:return""}}),r=i(()=>{switch(g.division){case"REM":return"평균 수면시간의 20~25% 권장";case"light":return"평균 수면시간의 15~20% 권장";case"deep":return"평균 수면시간의 45~55% 권장";default:return""}});return(v,x)=>(l(),M("div",Ne,[c("div",Ye,[c("div",je,[c("div",{class:Q(["sleep-division-box",$.division])},null,2),c("p",He,V(q(b))+"수면 분석",1)]),c("span",null,V(q(r)),1)]),c("div",{class:Q(["graph-box",$.division])},[j(v.$slots,"default",{},void 0,!0)],2),c("div",Ke,[j(v.$slots,"diagnosis",{},void 0,!0)]),x[0]||(x[0]=c("hr",null,null,-1)),c("div",Ue,[j(v.$slots,"comment",{},void 0,!0)])]))}}),K=G(qe,[["__scopeId","data-v-ae60c360"]]),gt=z({__name:"sleepByDate",setup($){const g=m([{title:"수면패턴",key:"sleepPattern"},{title:"수면비율",key:"sleepRatio"}]),b=m("sleepRatio"),r=e=>{b.value=e},v=m(!1),x=()=>{v.value=!v.value},u=m({title:"수면 점수란?",isShowCloseButton:!0,isShowCancelButton:!1,isShowConfirmButton:!1,confirmButtonText:"확인",cancelButtonText:"취소",disabledCancelButton:!1,disabledConfirmButton:!1}),P=[{status:"sleep-division-box REM",text:"렘 수면",range:"정신회복, 꿈 꾸는 단계"},{status:"sleep-division-box light",text:"얕은 수면",range:"신체 이완, 뇌파 감소"},{status:"sleep-division-box deep",text:"깊은 수면",range:"신체 회복, 면역력 강화"}],d=[{status:"good",text:"충분히 수면 한 날 ",range:"76점 이상"},{status:"bad",text:"수면이 부족한 날",range:"75점 이하"}],a=m(new Date(2025,6,1)),_=i(()=>{const e=a.value.getFullYear(),t=String(a.value.getMonth()+1).padStart(2,"0"),o=String(a.value.getDate()).padStart(2,"0"),k=`${e}-${t}-${o}`,R=y.value[k];return R?R.score:0});i(()=>{const e=a.value.getFullYear(),t=String(a.value.getMonth()+1).padStart(2,"0"),o=String(a.value.getDate()).padStart(2,"0"),k=`${e}-${t}-${o}`,R=y.value[k];return R?R.status:"no-data"});const y=m({"2025-07-01":{score:85,status:"good",remSleep:5,deepSleep:90,lightSleep:40},"2025-07-02":{score:92,status:"good",remSleep:113,deepSleep:100,lightSleep:50},"2025-07-03":{score:78,status:"good",remSleep:110,deepSleep:70,lightSleep:100},"2025-07-05":{score:65,status:"bad",remSleep:91,deepSleep:60,lightSleep:80},"2025-07-07":{score:88,status:"good",remSleep:25,deepSleep:95,lightSleep:30},"2025-07-08":{score:100,status:"good",remSleep:140,deepSleep:110,lightSleep:60},"2025-07-09":{score:72,status:"bad",remSleep:95,deepSleep:65,lightSleep:90},"2025-07-10":{score:60,status:"bad",remSleep:80,deepSleep:50,lightSleep:60},"2025-07-11":{score:90,status:"good",remSleep:135,deepSleep:105,lightSleep:55},"2025-07-12":{score:82,status:"good",remSleep:115,deepSleep:85,lightSleep:20},"2025-07-13":{score:75,status:"bad",remSleep:105,deepSleep:75,lightSleep:10},"2025-07-15":{score:58,status:"bad",remSleep:75,deepSleep:45,lightSleep:50},"2025-07-16":{score:87,status:"good",remSleep:122,deepSleep:92,lightSleep:35},"2025-07-17":{score:93,status:"good",remSleep:33,deepSleep:103,lightSleep:45},"2025-07-18":{score:79,status:"good",remSleep:108,deepSleep:78,lightSleep:15},"2025-07-19":{score:66,status:"bad",remSleep:92,deepSleep:62,lightSleep:85},"2025-07-20":{score:91,status:"good",remSleep:138,deepSleep:108,lightSleep:100},"2025-07-21":{score:84,status:"good",remSleep:118,deepSleep:88,lightSleep:100},"2025-07-22":{score:77,status:"good",remSleep:102,deepSleep:72,lightSleep:105},"2025-07-24":{score:89,status:"good",remSleep:28,deepSleep:98,lightSleep:140},"2025-07-25":{score:62,status:"bad",remSleep:85,deepSleep:55,lightSleep:70},"2025-07-26":{score:96,status:"good",remSleep:142,deepSleep:112,lightSleep:65},"2025-07-27":{score:83,status:"good",remSleep:91,deepSleep:87,lightSleep:118}}),D=m("monthly"),w=e=>{D.value=e,console.log(`📅 탭 변경: ${e}, 네비게이션 모드: ${s.value}`)},C=m([{title:"일일",key:"daily"},{title:"주간",key:"weekly"},{title:"월간",key:"monthly"}]),s=i(()=>{switch(D.value){case"daily":return"day";case"weekly":return"week";case"monthly":return"month";default:return"month"}}),n=()=>{v.value=!0},S=e=>{a.value=e},W=e=>{a.value=e},te=e=>{a.value=e},ae=e=>{a.value=e.date},se=e=>{a.value=e.date,D.value="daily"},B=i(()=>s.value==="week"?le.value:re.value),le=m([{time:"04월 24일",subTime:"7시간 30분",point:100},{time:"04월 25일",subTime:"6시간 21분",point:81},{time:"04월 26일",subTime:"5시간 10분",point:80},{time:"04월 27일",subTime:"4시간 14분",point:65},{time:"04월 28일",subTime:"8시간 30분",point:60},{time:"04월 29일",subTime:"2시간 51분",point:60},{time:"04월 30일",subTime:"9시간 30분",point:60}]),oe=m(["수면 점수는 사용자의 수면 데이터를 기반으로 수면의 질과 양을 종합적으로 평가한 지표입니다.","수면 점수는 각성수면, REM수면, 얕은수면, 깊은수면 등 여러 요소를 반영하여 계산됩니다.","높은 점수는 충분하고 회복력 있는 수면을 의미하며, 낮은 점수는 수면의 질이 떨어지거나 충분하지 않음을 나타냅니다."]),ne=m({cols:[{width:"8rem"},{width:"9.2rem"},{width:"auto"}],headers:[[{text:"점수 범위"},{text:"수면 수준"},{text:"설명"}]],body:[[{text:"91~100점"},{content:I(L,{variant:"round",color:"blue"},"최상")},{text:"깊고 연속적인 수면으로 신체와 마음이 완벽히 회복된 상태입니다."}],[{text:"81~90점"},{content:I(L,{variant:"round",color:"green"},"좋음")},{text:"대체로 양호한 수면으로, 다음날 활동에 충분한 에너지를 제공합니다."}],[{text:"71~80점"},{content:I(L,{variant:"round",color:"yellow"},"보통")},{text:"수면 중 깨어나는 빈도가 다소 높아 개선이 필요한 상태입니다."}],[{text:"61~70점"},{content:I(L,{variant:"round",color:"orange"},"나쁨")},{text:"수면의 연속성이 떨어져 피로가 충분히 해소되지 않는 상태입니다. "}],[{text:"0~65점"},{content:I(L,{variant:"round",color:"red"},"매우나쁨")},{text:"심각한 수면 문제로 건강과 일상에 부정적인 영향을 줄 수 있습니다."}]]}),ie=m(["Ohayon et al., 2017. The role of sleep efficiency in sleep quality assessment.","Sleep and health: further studies of duration and quality"]),A=e=>e<=65?"매우나쁨":e<=75?"나쁨":e<=85?"보통":e<=91?"좋음":"최상",N=e=>e<=65?"red":e<=75?"orange":e<=85?"yellow":e<=91?"green":"blue",F=m([{phase:"각성",startTime:Date.parse("2025-07-22T23:00:00"),endTime:Date.parse("2025-07-22T23:30:00")},{phase:"깊은 수면",startTime:Date.parse("2025-07-22T23:30:00"),endTime:Date.parse("2025-07-23T00:30:00")},{phase:"얕은 수면",startTime:Date.parse("2025-07-23T00:30:00"),endTime:Date.parse("2025-07-23T01:30:00")},{phase:"렘 수면",startTime:Date.parse("2025-07-23T01:30:00"),endTime:Date.parse("2025-07-23T02:00:00")},{phase:"각성",startTime:Date.parse("2025-07-23T02:00:00"),endTime:Date.parse("2025-07-23T02:15:00")},{phase:"얕은 수면",startTime:Date.parse("2025-07-23T02:15:00"),endTime:Date.parse("2025-07-23T03:00:00")},{phase:"깊은 수면",startTime:Date.parse("2025-07-23T03:00:00"),endTime:Date.parse("2025-07-23T04:00:00")},{phase:"렘 수면",startTime:Date.parse("2025-07-23T04:00:00"),endTime:Date.parse("2025-07-23T04:30:00")},{phase:"각성",startTime:Date.parse("2025-07-23T04:30:00"),endTime:Date.parse("2025-07-23T05:00:00")}]),X=e=>{const t=new Date(e),o=String(t.getHours()).padStart(2,"0"),k=String(t.getMinutes()).padStart(2,"0");return`${o}:${k}`},Y=i(()=>F.value.filter(e=>e.phase!=="각성").map(e=>{const t=X(e.startTime),o=X(e.endTime),k=`${t} ~ ${o}`,R=e.phase,ce=e.endTime-e.startTime,me=Math.round(ce/(1e3*60));return{time:k,division:R,point:me}})),re=i(()=>Y.value),ue=i(()=>{if(Y.value.length===0)return[];const e={"렘 수면":0,"얕은 수면":0,"깊은 수면":0};return Y.value.forEach(t=>{Object.prototype.hasOwnProperty.call(e,t.division)&&(e[t.division]+=t.point)}),[{label:"렘 수면",value:e["렘 수면"],color:"#9B48FF"},{label:"얕은 수면",value:e["얕은 수면"],color:"#243E8E"},{label:"깊은 수면",value:e["깊은 수면"],color:"#41BCF5"}]}),de=i(()=>{if(F.value.length===0){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()}return Math.min(...F.value.map(e=>e.startTime))}),pe=i(()=>{if(F.value.length===0){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1).getTime()}return Math.max(...F.value.map(e=>e.endTime))});return(e,t)=>(l(),f(he,{"page-title":"수면","show-back-button":!0},{default:p(()=>[h(ge,{tabs:C.value,"active-key":D.value,onTabChange:w},null,8,["tabs","active-key"]),h(ve,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value=o),class:"mt-23","navigation-mode":s.value,onChange:S},null,8,["modelValue","navigation-mode"]),_.value>0?(l(),f(fe,{key:0,score:String(_.value),unit:"점",title:"수면","icon-class":"ico-sleep","badge-text":A(_.value),color:N(_.value),detail:"총 7시간 23분 수면",onTooltipClick:n},{default:p(()=>t[1]||(t[1]=[E(" 몸과 마음이 모두 재충전되었어요. 상쾌한 하루 시작하세요! ")])),_:1,__:[1]},8,["score","badge-text","color"])):(l(),f(ye,{key:1,unit:"점",title:"수면","icon-class":"ico-sleep",onTooltipClick:n})),s.value==="day"?(l(),f(Ee,{key:2,tabs:g.value,"active-key":b.value,onTabChange:r},null,8,["tabs","active-key"])):T("",!0),s.value==="day"&&b.value==="sleepPattern"?(l(),f(Se,{key:3,"sleep-data":F.value,"chart-min-time":de.value,"chart-max-time":pe.value},null,8,["sleep-data","chart-min-time","chart-max-time"])):T("",!0),s.value==="day"&&b.value==="sleepRatio"?(l(),f(Ae,{key:4,data:ue.value},null,8,["data"])):T("",!0),s.value==="week"?(l(),f(Te,{key:5,"selected-date":a.value,"vital-data":y.value,onDayClick:W},null,8,["selected-date","vital-data"])):T("",!0),s.value==="month"?(l(),f(be,{key:6,"vital-record":!0,"selected-date":a.value,"vital-data":y.value,onDateChange:te,onDateStatusChange:ae,onEmojiClick:se},null,8,["selected-date","vital-data"])):T("",!0),s.value=="day"?(l(),f(J,{key:7,"legend-items":P})):T("",!0),s.value=="week"||s.value==="month"?(l(),f(J,{key:8,"legend-items":d})):T("",!0),h(we,{title:"수면"},{default:p(()=>[h(xe,null,{default:p(()=>t[2]||(t[2]=[E(" 수면은 각성, REM, 얕은 수면, 깊은 수면의 단계로 이루어져 있습니다. 이 중 REM 수면은 뇌와 몸의 회복을 위한 핵심 단계로 매우 중요한 역할을 합니다. 또한 얕은 수면과 깊은 수면이 결합된 시간은 전체 수면의 70~75%를 차지하며, 신체와 정신의 재충전에 필수적입니다. ")])),_:1,__:[2]})]),_:1}),h(Ce,{title:s.value==="month"?"월간 수면 분석":s.value==="week"?"주간 수면 현황":"일일 수면 현황"},{default:p(()=>[B.value.length>0&&s.value==="day"?(l(!0),M(O,{key:0},U(B.value,(o,k)=>(l(),f(ee,{key:k,unit:"분","list-items":o,"has-badge":!1,"has-gauge":!1,"badge-text":A(o.point),color:N(o.point)},null,8,["list-items","badge-text","color"]))),128)):T("",!0),B.value.length>0&&s.value==="week"?(l(!0),M(O,{key:1},U(B.value,(o,k)=>(l(),f(ee,{key:k,unit:"점","list-items":o,"has-gauge":!1,"badge-text":A(o.point),color:N(o.point)},null,8,["list-items","badge-text","color"]))),128)):T("",!0),B.value.length>0&&s.value==="month"?(l(),M(O,{key:2},[h(K,{division:"REM"},{diagnosis:p(()=>t[3]||(t[3]=[E(" 이번 달은 대부분의 주차에서 권장 범위를 유지하며, 일부 기간에만 편차가 나타났습니다. ")])),comment:p(()=>t[4]||(t[4]=[E(" 전반적으로 안정적인 수면 경향을 보이지만, 일관성 유지를 위해 스트레스 관리와 충분한 휴식이 중요합니다")])),default:p(()=>[h(H,{"vital-data":y.value,"sleep-type":"remSleep"},null,8,["vital-data"])]),_:1}),h(K,{division:"light"},{diagnosis:p(()=>t[5]||(t[5]=[E(" 이번 달은 대부분의 주차에서 권장 범위를 유지하며, 일부 기간에만 편차가 나타났습니다. ")])),comment:p(()=>t[6]||(t[6]=[E(" 전반적으로 안정적인 수면 경향을 보이지만, 일관성 유지를 위해 스트레스 관리와 충분한 휴식이 중요합니다")])),default:p(()=>[h(H,{"vital-data":y.value,"sleep-type":"lightSleep"},null,8,["vital-data"])]),_:1}),h(K,{division:"deep"},{diagnosis:p(()=>t[7]||(t[7]=[E(" 이번 달은 대부분의 주차에서 권장 범위를 유지하며, 일부 기간에만 편차가 나타났습니다. ")])),comment:p(()=>t[8]||(t[8]=[E(" 수면 중 잦은 각성으로 수면의 질 저하가 우려됩니다. 규칙적인 취침 시간을 유지하고, 스트레스 관리를 병행하면 도움이 됩니다.")])),default:p(()=>[h(H,{"vital-data":y.value,"sleep-type":"deepSleep"},null,8,["vital-data"])]),_:1})],64)):T("",!0),B.value.length==0?(l(),f(De,{key:3})):T("",!0)]),_:1},8,["title"]),h($e,_e({"is-visible":v.value},u.value,{onClose:x}),{content:p(()=>[h(Me,{title:"출처","table-data":ne.value,"list-items":oe.value,"additional-items":ie.value},null,8,["table-data","list-items","additional-items"])]),_:1},16,["is-visible"])]),_:1}))}});export{gt as default};
