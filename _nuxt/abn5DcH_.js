import{D as Y}from"./DlOjqGwH.js";import{g as A,r as C,A as _,k as p,c as s,o,a as c,b as E,p as D,a5 as F,n as g,u as P,F as B,h as q,t as h,d as L,m as R,a2 as j,_ as G}from"./CbJ3mJef.js";const J={class:"c-input"},K={class:"c-inpType"},O=["for"],Q={key:0,class:"required-mark"},U={key:1},W=["id","name","placeholder","value","readonly","disabled"],X={key:1,class:"feedback error"},Z={class:"text"},ee=A({__name:"InputCalendar",props:{label:{type:String,default:""},name:{type:String,default:"Calendar"},placeholder:{type:String,default:"YYYY.MM.DD"},modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isInvalid:{type:Boolean,default:!1},validText:{type:String,default:"기간을 선택해주세요"},scheduled:{type:[String,Array],default:()=>[],validator:t=>!!(typeof t=="string"||Array.isArray(t))},showTimePicker:{type:Boolean,default:!1},defaultHour:{type:Number,default:0,validator:t=>t>=0&&t<=23},defaultMinute:{type:Number,default:0,validator:t=>t>=0&&t<=59},minuteStep:{type:Number,default:1,validator:t=>t>0&&t<=60},size:{type:String,validator:t=>["lg","sm","normal"].includes(t),default:"normal"}},emits:["update:modelValue","time-change","scheduled-date-click"],setup(t,{emit:T}){const a=t,d=T,m=a.name,i=C(a.modelValue),u=C(!1);_(()=>a.modelValue,e=>{i.value=e},{immediate:!0});const M=e=>{if(!e)return null;try{let n=e;if(e.includes(" ")){const[r,f]=e.split(" ");n=`${r.replace(/\./g,"-")} ${f}`}else n=e.replace(/\./g,"-");const l=new Date(n);return isNaN(l.getTime())?null:l}catch{return null}},$=e=>{const n=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");if(a.showTimePicker){const f=String(e.getHours()).padStart(2,"0"),S=String(e.getMinutes()).padStart(2,"0");return`${n}.${l}.${r} ${f}:${S}`}else return`${n}.${l}.${r}`},w=p(()=>({title:"일자선택",isShowCloseButton:!0,isShowCancelButton:!0,isShowConfirmButton:!0,confirmButtonText:"확인",cancelButtonText:"취소",disabledCancelButton:!1,disabledConfirmButton:!1,autoClose:!1,initialDate:I(),showTimePicker:a.showTimePicker,defaultHour:a.defaultHour,defaultMinute:a.defaultMinute,minuteStep:a.minuteStep,size:{type:String,validator:e=>["lg","sm","normal"].includes(e),default:"normal"}})),I=()=>i.value?M(i.value):null,y=e=>{i.value=e,d("update:modelValue",e)},V=e=>{const l=e.target.value;y(l)},k=()=>{u.value=!u.value},v=()=>{a.disabled||a.readonly||k()},N=()=>{u.value=!1},z=async e=>{if(!e){console.log("❌ 날짜가 선택되지 않았습니다");return}const n=$(e);y(n),a.showTimePicker&&d("time-change",{hour:e.getHours(),minute:e.getMinutes(),dateTime:e}),u.value=!1,await j(),console.log(`📅 날짜 선택: ${n}`),console.log("📅 Date 객체:",e),console.log("📅 내부 상태:",i.value);const l=document.getElementById(m);l&&console.log(`📅 Input 요소 값: ${l.value}`)},x=e=>{console.log("📌 스케줄된 날짜 클릭:",e),d("scheduled-date-click",e)},b=p(()=>a.label.includes("*")),H=p(()=>b.value?a.label.split(/([*])/).filter(e=>e!==""):[]);return(e,n)=>(o(),s("div",J,[c("div",K,[t.label?(o(),s("label",{key:0,for:P(m),class:g(["c-label",e.labelClass]),style:F({fontSize:e.labelSize})},[b.value?(o(!0),s(B,{key:0},q(H.value,(l,r)=>(o(),s("span",{key:r},[l==="*"?(o(),s("span",Q,"*")):(o(),s("span",U,h(l),1))]))),128)):(o(),s(B,{key:1},[L(h(t.label),1)],64))],14,O)):D("",!0),c("div",{class:g(["c-inp-el",{lg:a.size==="lg",sm:a.size==="sm"}])},[c("input",{id:P(m),name:t.name,placeholder:t.placeholder,value:i.value,readonly:t.readonly,disabled:t.disabled,class:g(["c-inp",e.$attrs.class,{"is-invalid":t.isInvalid}]),onInput:V,onClick:v},null,42,W),c("button",{class:"customCalendar",onClick:v})],2),t.isInvalid?(o(),s("p",X,[c("span",Z,h(t.validText),1)])):D("",!0)]),E(Y,R({"is-visible":u.value},w.value,{scheduled:t.scheduled,onCancel:N,onConfirm:z,onClose:k,onScheduledDateClick:x}),null,16,["is-visible","scheduled"])]))}}),le=G(ee,[["__scopeId","data-v-11c492fc"]]);export{le as I};
